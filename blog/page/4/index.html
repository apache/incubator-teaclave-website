<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Blog | Apache Teaclave™ (incubating)</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://teaclave.apache.org/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://teaclave.apache.org/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://teaclave.apache.org/blog/page/4"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="Blog | Apache Teaclave™ (incubating)"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="canonical" href="https://teaclave.apache.org/blog/page/4"><link data-rh="true" rel="alternate" href="https://teaclave.apache.org/blog/page/4" hreflang="en"><link data-rh="true" rel="alternate" href="https://teaclave.apache.org/blog/page/4" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"Blog","@id":"https://teaclave.apache.org/blog/page/4","mainEntityOfPage":"https://teaclave.apache.org/blog/page/4","headline":"Blog","description":"Blog","blogPost":[{"@type":"BlogPosting","@id":"https://teaclave.apache.org/blog/2020/12/09/teaclave-ecosystem","mainEntityOfPage":"https://teaclave.apache.org/blog/2020/12/09/teaclave-ecosystem","url":"https://teaclave.apache.org/blog/2020/12/09/teaclave-ecosystem","headline":"The Teaclave Secure Computing Ecosystem - Projects Powered by Teaclave","name":"The Teaclave Secure Computing Ecosystem - Projects Powered by Teaclave","description":"English | 中文","datePublished":"2020-12-09T00:00:00.000Z","author":{"@type":"Person","name":"Mingshen Sun"},"keywords":[]},{"@type":"BlogPosting","@id":"https://teaclave.apache.org/blog/2020/12/04/teaclave-ecosystem-cn","mainEntityOfPage":"https://teaclave.apache.org/blog/2020/12/04/teaclave-ecosystem-cn","url":"https://teaclave.apache.org/blog/2020/12/04/teaclave-ecosystem-cn","headline":"Teaclave 安全计算开源生态 - 由 Teaclave 驱动的开源项目一览","name":"Teaclave 安全计算开源生态 - 由 Teaclave 驱动的开源项目一览","description":"English | 中文","datePublished":"2020-12-04T00:00:00.000Z","author":{"@type":"Person","name":"Mingshen Sun"},"keywords":[]},{"@type":"BlogPosting","@id":"https://teaclave.apache.org/blog/2020/10/29/announcing-teaclave-0.1.0-cn","mainEntityOfPage":"https://teaclave.apache.org/blog/2020/10/29/announcing-teaclave-0.1.0-cn","url":"https://teaclave.apache.org/blog/2020/10/29/announcing-teaclave-0.1.0-cn","headline":"让安全计算更简单 - Apache Teaclave™ (incubating) 0.1.0 正式发布","name":"让安全计算更简单 - Apache Teaclave™ (incubating) 0.1.0 正式发布","description":"English | 中文","datePublished":"2020-10-29T00:00:00.000Z","author":{"@type":"Person","name":"Mingshen Sun"},"keywords":[]},{"@type":"BlogPosting","@id":"https://teaclave.apache.org/blog/2020/10/22/announcing-teaclave-0.1.0","mainEntityOfPage":"https://teaclave.apache.org/blog/2020/10/22/announcing-teaclave-0.1.0","url":"https://teaclave.apache.org/blog/2020/10/22/announcing-teaclave-0.1.0","headline":"Announcing Apache Teaclave™ (incubating) 0.1.0","name":"Announcing Apache Teaclave™ (incubating) 0.1.0","description":"English | 中文","datePublished":"2020-10-22T00:00:00.000Z","author":{"@type":"Person","name":"Mingshen Sun"},"keywords":[]},{"@type":"BlogPosting","@id":"https://teaclave.apache.org/blog/2019/12/03/mitigation-of-intel-sa-00219-in-teaclave-sgx-sdk","mainEntityOfPage":"https://teaclave.apache.org/blog/2019/12/03/mitigation-of-intel-sa-00219-in-teaclave-sgx-sdk","url":"https://teaclave.apache.org/blog/2019/12/03/mitigation-of-intel-sa-00219-in-teaclave-sgx-sdk","headline":"Mitigation of Intel-SA-00219 in Teaclave SGX SDK","name":"Mitigation of Intel-SA-00219 in Teaclave SGX SDK","description":"Background","datePublished":"2019-12-03T00:00:00.000Z","author":{"@type":"Person","name":"Yu Ding"},"keywords":[]},{"@type":"BlogPosting","@id":"https://teaclave.apache.org/blog/2019/08/20/apache-incubation-proposal","mainEntityOfPage":"https://teaclave.apache.org/blog/2019/08/20/apache-incubation-proposal","url":"https://teaclave.apache.org/blog/2019/08/20/apache-incubation-proposal","headline":"Aapache Incubation Proposal","name":"Aapache Incubation Proposal","description":"MesaTEE Apache Incubation Proposal","datePublished":"2019-08-20T00:00:00.000Z","author":{"@type":"Person","name":"The Teaclave PPMC"},"keywords":[]}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Teaclave™ (incubating) RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Teaclave™ (incubating) Atom Feed"><link rel="stylesheet" href="/assets/css/styles.e2b519a3.css">
<script src="/assets/js/runtime~main.b9db7108.js" defer="defer"></script>
<script src="/assets/js/main.d9920c39.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Apache Teaclave™" class="themedComponent_mlkZ themedComponent--light_NVdE" style="height:2.5rem;max-width:300px;padding-left:1.6rem;position:relative;top:0.1rem"><img src="/img/logo.svg" alt="Apache Teaclave™" class="themedComponent_mlkZ themedComponent--dark_xIcU" style="height:2.5rem;max-width:300px;padding-left:1.6rem;position:relative;top:0.1rem"></div></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/powered-by">Powered By</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" file="community/community.md" href="/community">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link" file="community/contributing.md" href="/contributing">Contributing</a></li><li><a class="dropdown__link" file="community/contributors.md" href="/contributors">Contributors</a></li><li><a class="dropdown__link" file="community/becoming-a-member.md" href="/becoming-a-member">Becoming a Member</a></li><li><a class="dropdown__link" file="community/maturity.md" href="/maturity">Maturity Assessment</a></li><li><a class="dropdown__link" file="community/release-guide.md" href="/release-guide">Release Guide</a></li></ul></div><a class="navbar__item navbar__link" href="/download">Download</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" file="overview.md" href="/overview">Docs</a><ul class="dropdown__menu"><li><a class="dropdown__link" file="teaclave-trustzone-sdk/docs/README.md" href="/trustzone-sdk-docs/">Teaclave TrustZone SDK</a></li><li><a href="https://teaclave.apache.org/api-docs/trustzone-sdk/optee_teec" target="_self" rel="" class="dropdown__link">API Docs: Teaclave TrustZone SDK (Host)<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://teaclave.apache.org/api-docs/trustzone-sdk/optee_utee" target="_self" rel="" class="dropdown__link">API Docs: Teaclave TrustZone SDK (TA)<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a class="dropdown__link" file="teaclave-sgx-sdk/documents/README.md" href="/sgx-sdk-docs/">Teaclave SGX SDK</a></li><li><a href="https://teaclave.apache.org/api-docs/sgx-sdk/" target="_self" rel="" class="dropdown__link">API Docs: Teaclave SGX SDK<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a class="dropdown__link" file="teaclave-docs/README.md" href="/teaclave-docs/">Teaclave</a></li><li><a class="dropdown__link" file="teaclave-faas-legacy/docs/README.md" href="/docs/">Teaclave FaaS (legacy)</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Repos</a><ul class="dropdown__menu"><li><a href="https://github.com/apache/incubator-teaclave" target="_blank" rel="noopener noreferrer" class="dropdown__link">Teaclave<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://github.com/apache/incubator-teaclave-sgx-sdk" target="_blank" rel="noopener noreferrer" class="dropdown__link">Teaclave SGX SDK<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://github.com/apache/incubator-teaclave-trustzone-sdk" target="_blank" rel="noopener noreferrer" class="dropdown__link">Teaclave TrustZone SDK<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://github.com/apache/incubator-teaclave-java-tee-sdk" target="_blank" rel="noopener noreferrer" class="dropdown__link">Teaclave Java TEE SDK<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://github.com/apache/incubator-teaclave-website" target="_blank" rel="noopener noreferrer" class="dropdown__link">Teaclave Website<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">ASF</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">ASF Homepage<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Thanks<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://www.apache.org/events/current-event.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><div role="group"><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/07/08/repo-reorg-community-focus">Teaclave Repository Restructuring and Community Focus</a></li></ul></div><div role="group"><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/12/21/teaclave-meetup-15">Teaclave Meetup #15</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/12/14/teaclave-meetup-14">Teaclave Meetup #14</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/10/08/accepting-java-enclave-proposal">Accepting JavaEnclave to Apache Teaclave™ (incubating) Proposal</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/06/29/teaclave-meetup-13">Teaclave Meetup #13</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/04/28/teaclave-meetup-12">Teaclave Meetup #12</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/04/18/announcing-teaclave-0.4.0">Announcing Apache Teaclave™ (incubating) 0.4.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/04/18/announcing-teaclave-trustzone-sdk-0.2.0">Announcing Apache Teaclave™ TrustZone SDK (incubating) 0.2.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/03/31/teaclave-meetup-11">Teaclave Meetup #11</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/02/24/teaclave-meetup-10">Teaclave Meetup #10</a></li></ul></div><div role="group"><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/11/30/teaclave-meetup-9">Teaclave Meetup #9</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/11/01/security-advisory-of-smashex-and-cve-2021-0186">Security Advisory of SmashEx and CVE-2021-0186</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/10/15/developing-teaclave-application-with-teaclave-trustzone-sdk">使用 Teaclave TrustZone SDK 开发 TrustZone 应用</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/10/14/teaclave-meetup-8">Teaclave Meetup #8</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/10/01/announcing-teaclave-0.3.0">Announcing Apache Teaclave™ (incubating) 0.3.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/08/26/teaclave-meetup-7">Teaclave Meetup #7</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/08/25/developing-sgx-application-with-teaclave-sgx-sdk">使用 Teaclave SGX SDK 开发 SGX 应用</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/07/29/teaclave-meetup-6">Teaclave Meetup #6</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/06/24/teaclave-meetup-5">Teaclave Meetup #5</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/06/16/announcing-teaclave-trustzone-sdk-0.1.0">Announcing Apache Teaclave™ TrustZone SDK (incubating) 0.1.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/06/04/accepting-rust-optee-trustzone-sdk-proposal">Accepting Rust OP-TEE TrustZone SDK to Apache Teaclave™ (incubating) Proposal</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/04/29/teaclave-meetup-4">Teaclave Meetup #4</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/03/25/teaclave-meetup-3">Teaclave Meetup #3</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/03/15/welcome-rust-optee-trustzone-sdk-cn">欢迎 Rust OP-TEE TrustZone SDK 成为 Teaclave 子项目</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/03/15/welcome-rust-optee-trustzone-sdk">Welcome Rust OP-TEE TrustZone SDK to Teaclave</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/03/02/announcing-teaclave-0.2.0-cn">Apache Teaclave™ (incubating) 0.2.0 发布</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/03/02/announcing-teaclave-0.2.0">Announcing Apache Teaclave™ (incubating) 0.2.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/02/25/teaclave-meetup-2">Teaclave Meetup #2</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/01/28/teaclave-meetup-1">Teaclave Meetup #1</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/01/20/roadmap-in-2021-project-maturity-and-community-buildup">Roadmap in 2021: Project Maturity and Community Buildup</a></li></ul></div><div role="group"><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/12/09/teaclave-ecosystem">The Teaclave Secure Computing Ecosystem - Projects Powered by Teaclave</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/12/04/teaclave-ecosystem-cn">Teaclave 安全计算开源生态 - 由 Teaclave 驱动的开源项目一览</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/10/29/announcing-teaclave-0.1.0-cn">让安全计算更简单 - Apache Teaclave™ (incubating) 0.1.0 正式发布</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/10/22/announcing-teaclave-0.1.0">Announcing Apache Teaclave™ (incubating) 0.1.0</a></li></ul></div><div role="group"><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2019/12/03/mitigation-of-intel-sa-00219-in-teaclave-sgx-sdk">Mitigation of Intel-SA-00219 in Teaclave SGX SDK</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2019/08/20/apache-incubation-proposal">Aapache Incubation Proposal</a></li></ul></div></nav></aside><main class="col col--7"><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2020/12/09/teaclave-ecosystem">The Teaclave Secure Computing Ecosystem - Projects Powered by Teaclave</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2020-12-09T00:00:00.000Z">December 9, 2020</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Mingshen Sun</span></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p><a href="/blog/2020/12/09/teaclave-ecosystem/">English</a> | <a href="/blog/2020/12/04/teaclave-ecosystem-cn/">中文</a></p>
<p>Apache Teaclave™ (incubating) is an open source universal secure computing
platform, making computation on privacy-sensitive data safe and simple. With
hardware-based security capabilities (e.g., Intel SGX), Teaclave enables
sensitive data to be circulated and processed under security control, even in
off-site and offshore environments, without being compromised or misused. By
providing muti-party interfaces, Teaclave can help to &quot;bridge the data islands&quot;
within/among organizations and companies.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="highlights">Highlights<a href="#highlights" class="hash-link" aria-label="Direct link to Highlights" title="Direct link to Highlights">​</a></h2>
<p>In a nutshell, Teaclave have these four highlights:</p>
<ul>
<li><strong>Secure and Attestable</strong>: Teaclave adopts multiple security technologies to
enable secure computing, in particular, Teaclave uses Intel SGX to serve the
most security-sensitive tasks with hardware-based isolation, memory encryption
and attestation. Also, Teaclave is written in Rust to prevent memory-safety
issues.</li>
<li><strong>Function-as-a-Service</strong>: Teaclave is a function-as-a-service platform
supports tasks like privacy-preserving machine learning, private set
intersection, and crypto computation. In addition, developers can also write
and execute Python function. Teaclave supports both general secure computing
tasks and flexible multi-party secure computation.</li>
<li><strong>Ease of Use</strong>: Teaclave builds its components in containers, therefore, it
supports deployment both locally and within cloud infrastructures. Teaclave
also provides convenient endpoint APIs, client SDKs and command line tools.</li>
<li><strong>Flexibility</strong>: Components in Teaclave are designed in modular, and some like
remote attestation can be easily embedded in other projects. In addition,
Teaclave SGX SDK can also be used separately to write standalone SGX enclaves
for other purposes.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Secure Computing and Intel SGX" src="/assets/images/secure-computing-intel-sgx-28194afe7e7250b72c15eec06414b1fd.png" width="2288" height="852" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="teaclave-ecosystem"><strong>Teaclave Ecosystem</strong><a href="#teaclave-ecosystem" class="hash-link" aria-label="Direct link to teaclave-ecosystem" title="Direct link to teaclave-ecosystem">​</a></h2>
<p>Teaclave provides an open ecosystem in the Apache Way to various parties like
project developers, platform users, service providers, first/third-party library
users. In a border view, the Teaclave community aims to support commercial
products, academic research projects, teaching platform, and other open source
projects powered by Teaclave.</p>
<center><img decoding="async" loading="lazy" src="./img/teaclave-ecosystem.png" width="85%" class="img_ev3q"></center>
<p>Due to the importance of porting, maintaining, auditing of third-party libraries
in the trusted computing environments, we maintains hundreds of Rust&#x27;s libraries
for TEE, e.g., crypto, scientific computation, and machine learning libraries.
With these libraries around the Teaclave ecosystem, this drives the development
of other projects powered by Teaclave. Furthermore, we are also incubating many
important TEE components like <a href="https://github.com/mesalock-linux/mesapy/tree/sgx" target="_blank" rel="noopener noreferrer">MesaPy for SGX</a>,
and [Rust OP-TEE TrustZone SDK]((<a href="https://github.com/sccommunity/rust-optee-trustzone-sdk" target="_blank" rel="noopener noreferrer">https://github.com/sccommunity/rust-optee-trustzone-sdk</a>).</p>
<p>The Teaclave open-source ecosystem is also supporting many commercial products.
For example, Baidu, as a platform service provider, has announced the
<a href="https://anquan.baidu.com/product/mesatee" target="_blank" rel="noopener noreferrer">MesaTEE</a>
secure computing platform, providing a secure, efficient, and extensible secure
computing solution to help companies and organizations for privacy-preserving
data exchange/computation.</p>
<p>In addition, the Teaclave ecosystem is also actively sponsoring academic
research in trusted execution environment and system security like topics about
security in TEE, designing of memory-safe SGX SDK, security of supply chains,
etc. Many studies has been published in top-tier conferences.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="projects-powered-by-teaclave">Projects powered by Teaclave<a href="#projects-powered-by-teaclave" class="hash-link" aria-label="Direct link to Projects powered by Teaclave" title="Direct link to Projects powered by Teaclave">​</a></h2>
<p>Because of the openness and flexibility of Teaclave, many projects are based on
the Teaclave platforms and Teaclave SGX SDK. Here, we summarize several popular
open source or commercial products powered by Teaclave. We hope more
organizations and companies can come and join the ecosystem, pushing forward the
boundary of data privacy and secure computation.</p>
<ul>
<li><a href="https://github.com/advanca/advanca" target="_blank" rel="noopener noreferrer">Advanca</a>: A privacy-preserving
general-purpose compute/storage infrastructure for Dapps.</li>
<li><a href="https://github.com/LayerXcom/anonify" target="_blank" rel="noopener noreferrer">Anonify</a>: A blockchain-agnostic
execution environment with privacy and auditability based on TEE.
<img decoding="async" loading="lazy" alt="Anonify: A blockchain-agnostic execution environment with privacy and auditability" src="/assets/images/anonify-3524f6cd2eec6c8687e23e14c1fe3703.png" width="1181" height="534" class="img_ev3q"></li>
<li><a href="https://github.com/enigmampc/enigma-core" target="_blank" rel="noopener noreferrer">Enigma Core</a>: Enigma Core
library. The domain: Trusted and Untrusted App in Rust.</li>
<li><a href="https://github.com/crypto-com/chain" target="_blank" rel="noopener noreferrer">Crypto.com Chain</a>: Alpha version
prototype of Crypto.com Chain.</li>
<li><a href="https://github.com/occlum/occlum" target="_blank" rel="noopener noreferrer">Occlum</a>: Occlum is a memory-safe,
multi-process library OS for Intel SGX. This project plans to join the
Confidential Computing Consortium in the near future.</li>
<li><a href="https://github.com/Phala-Network/phala-blockchain" target="_blank" rel="noopener noreferrer">Phala Network</a>:
A TEE-Blockchain hybrid architecture implementing Confidential Contract on
Polkadot.</li>
<li><a href="https://github.com/enigmampc/SafeTrace" target="_blank" rel="noopener noreferrer">SafeTrace</a>: Privacy preserving
voluntary COVID-19 self-reporting platform for contact tracing.</li>
<li><a href="https://github.com/enigmampc/SecretNetwork" target="_blank" rel="noopener noreferrer">Secret Network</a>: A
blockchain-based, open-source protocol that lets anyone perform computations
on encrypted data, bringing privacy to smart contracts and public
<img decoding="async" loading="lazy" alt="Secret Network is a blockchain-based, open-source protocol that lets anyone perform computations on encrypted data, bringing privacy to smart contracts and public blockchains." src="/assets/images/secret-network-75fddbf1a080bfd624320d9a4291f4e4.png" width="1440" height="810" class="img_ev3q">
blockchains.</li>
<li><a href="https://github.com/scs/substraTEE" target="_blank" rel="noopener noreferrer">substraTEE</a>: Trusted Off-Chain Compute
Framework for substrate blockchains.</li>
<li><a href="https://github.com/veracruz-project/veracruz" target="_blank" rel="noopener noreferrer">Veracruz</a>: Veracruz is a
framework for defining and deploying collaborative, privacy-preserving
computations amongst a group of mutually mistrusting individuals.
This project plans to join the Confidiential Computing Consortium in the near future.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Projects powered by Teaclave" src="/assets/images/logo-projects-powered-by-teaclave-05f050592064cdc047dabd77472d5c12.png" width="2262" height="1380" class="img_ev3q"></p>
<p>In summary, all above projects are trying to utilize capabilities from TEE, like
hardware-isolation, memory encryption and remote attestation, to protect data
computation or serve as trusted party.
Based on Teaclave SGX SDK, some projects like Occlum and Veracruz aim to provide a more flexible TEE
framework. Others like Secret Network and substraTEE want to implement a trusted
node for their business logics. Also, some projects are using some common
components like remote attestation libraries in their code base. Overall, the
Teaclave ecosystem has empowered lots of successful projects. We have a list of
projects powered by Teaclave in the community homepage.</p>
<p>At last, everyone are very welcome to join the Teaclave community and contribute
to the secure computing ecosystem. Hope to see more users and contributors in
the Teaclave community. BTW, if there are any other amazing projects I didn&#x27;t
mention you plan to work on, please also share with me. I&#x27;m more than happy to
learn more about it.</p></div></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2020/12/04/teaclave-ecosystem-cn">Teaclave 安全计算开源生态 - 由 Teaclave 驱动的开源项目一览</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2020-12-04T00:00:00.000Z">December 4, 2020</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Mingshen Sun</span></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p><a href="/blog/2020/12/09/teaclave-ecosystem/">English</a> | <a href="/blog/2020/12/04/teaclave-ecosystem-cn/">中文</a></p>
<p>Apache Teaclave™ (incubating) (<a href="https://teaclave.apache.org/" target="_blank" rel="noopener noreferrer">https://teaclave.apache.org/</a>)是全球首个通用安全计算平台，为隐私数据计算赋能，让安全计算更简单。Teaclave 基于硬件安全能力（Intel SGX），确保敏感数据在可信域外和离岸场景下安全可控的流通和处理，无需担心隐私数据泄露和滥用。同时，Teaclave 还支持多方参与的联合计算，打破企业和组织中的数据孤岛。Teaclave 于 2019 年 8 月进入 Apache 基金会孵化器，2020 年 10 月，Teaclave 社区正式通过并发布了 0.1.0 版。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="teaclave-的四大亮点">Teaclave 的四大亮点<a href="#teaclave-的四大亮点" class="hash-link" aria-label="Direct link to Teaclave 的四大亮点" title="Direct link to Teaclave 的四大亮点">​</a></h2>
<p>简单来说，Teaclave 有四大亮点：</p>
<ul>
<li><strong>安全性</strong>：Teaclave 使用多重安全技术保护隐私数据的计算。我们使用 Intel SGX，提供基于硬件隔离、内存加密、远程证实等安全技术保护数据隐私计算任务。不仅如此，为了避免内存安全漏洞带来的安全风险，Teaclave 还使用内存安全编程语言 Rust 编写。</li>
<li><strong>功能性</strong>：Teaclave 平台提供了更加便利的函数即服务（function-as-a-service）接口，大大的降低了使用门槛。平台中也实现了众多内置函数，例如机器学习算法，多方联合求交，加解密计算等等常用功能。更重要的是，开发者还可以使用 Python 自由编写函数来操作隐私数据，提交至 Teaclave 平台执行。与传统 FaaS 框架不同的是，Teaclave 提供了灵活的多方参与计算接口，大大简化多方安全计算的流程。</li>
<li><strong>易用性</strong>：Teaclave 提供便利的部署方式，支持在本地和云上以容器的方式进行部署。项目中还提供了完善的接口，客户端 SDK 以及命令行工具帮助开发者使用平台的功能。</li>
<li><strong>灵活性</strong>：Teaclave 设计了灵活的组件和服务框架，其他项目仅需少量修改就可以使用 Teaclave 中的各种组件。例如，可以在项目中使用 Teaclave 远程证实库作为第三方依赖库，或者直接单独部署使用 Teaclave 中的数据库服务等。当然，开发者也可使用 Teaclave SGX SDK （原 Rust SGX SDK）来构建全新的 SGX 应用。</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Secure Computing and Intel SGX" src="/assets/images/secure-computing-intel-sgx-28194afe7e7250b72c15eec06414b1fd.png" width="2288" height="852" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="teaclave-开源生态"><strong>Teaclave 开源生态</strong><a href="#teaclave-开源生态" class="hash-link" aria-label="Direct link to teaclave-开源生态" title="Direct link to teaclave-开源生态">​</a></h2>
<p>Teaclave 提供了一个开放的开源生态，其中既有 Teaclave 项目的开发者，也包括安全计算平台的用户、服务提供商，以及在安全计算相关项目中使用了 Teaclave 中的核心库和第三方常用库的使用者。另一方面，Teaclave 生态服务于商业产品、学术研究项目、可信计算教学平台，同时社区也支持由 Teaclave 驱动的第三方开源项目。</p>
<center><img decoding="async" loading="lazy" src="./img/teaclave-ecosystem-cn.png" width="75%" class="img_ev3q"></center>
<p>在可信执行环境中，第三方库的移植、维护、审计尤为重要。我们为 Teaclave 生态提供了上百个 Rust 的第三方开发库，比如密码学库，科学计算库，机器学习库等等，大大的丰富了 Teaclave 生态，并且驱动了其他基于 Teaclave 的开源项目发展。除了维护第三方库，我们也孵化出了一些重要的 TEE 组件，比如，针对 SGX 环境的 Python 解释器 - MesaPy (<a href="https://github.com/mesalock-linux/mesapy/tree/sgx" target="_blank" rel="noopener noreferrer">https://github.com/mesalock-linux/mesapy/tree/sgx</a>)，以及对 TrustZone 后端 TEE 实现的 SDK - Rust OP-TEE TrustZone SDK (<a href="https://github.com/sccommunity/rust-optee-trustzone-sdk" target="_blank" rel="noopener noreferrer">https://github.com/sccommunity/rust-optee-trustzone-sdk</a>)。</p>
<p>Teaclave 开源生态也支持着众多商业产品。比如，基于 Teaclave 开源代码，百度作为平台服务提供商，构建了 MesaTEE 安全计算平台，该平台提供了强安全、高性能、易扩展的芯片级数据安全计算解决方案。协助机构之间解决数据合作过程中数据安全和隐私问题，打破数据孤岛。 通过私有化或云服务帮助金融、政务、互联网等行业在联合建模、联合营销、联合风控等场景下一站式完成数据联合计算，实现 “数据可用不可见”的安全体验。</p>
<p>Teaclave 生态也支持着可信计算和系统安全相关的学术研究，其中包括可信执行环境的安全，内存安全的 SGX SDK 设计，SGX 第三方库生态的安全等等相关课题。其中有多篇学术成果发表在国际顶级会议上。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="由-teaclave-驱动的开源项目"><strong>由 Teaclave 驱动的开源项目</strong><a href="#由-teaclave-驱动的开源项目" class="hash-link" aria-label="Direct link to 由-teaclave-驱动的开源项目" title="Direct link to 由-teaclave-驱动的开源项目">​</a></h2>
<p>正因为 Teaclave 的开源、开放及其灵活性，许多项目基于 Teaclave 平台或 SGX SDK 构建，以下列举了几个由 Teaclave 驱动的开源项目或商业产品。希望更多的公司、项目能够加入安全计算的生态当中，共同推动数据隐私、安全计算的发展。</p>
<ul>
<li><strong>Advanca</strong> 是服务于去中心化应用（Dapps）的一个通用的隐私保护计算/存储基础设施。<a href="https://github.com/advanca/advanca" target="_blank" rel="noopener noreferrer">https://github.com/advanca/advanca</a></li>
<li><strong>Anonify</strong>: 在区块链上利用可信执行环境 (TEE) 技术，向用户提供防篡改的数据共享技术设施；在灵活执行业务逻辑同时，保证分布式账本中各个参与者的数据隐私。<a href="https://github.com/LayerXcom/anonify" target="_blank" rel="noopener noreferrer">https://github.com/LayerXcom/anonify</a></li>
</ul>
<p><img decoding="async" loading="lazy" alt="Anonify: A blockchain-agnostic execution environment with privacy and auditability" src="/assets/images/anonify-3524f6cd2eec6c8687e23e14c1fe3703.png" width="1181" height="534" class="img_ev3q"></p>
<ul>
<li><strong>Enigma</strong> 联合多个区块链厂商构建去中心化网络联盟 — Secret Network，为区块链用户提供数据隐私保护服务。在 Secret Network 中，用户数据密文作为输入被智能合约执行，执行结果基于共识协议验证后上链。<a href="https://github.com/enigmampc/enigma-core" target="_blank" rel="noopener noreferrer">https://github.com/enigmampc/enigma-core</a>, <a href="https://github.com/enigmampc/SecretNetwork" target="_blank" rel="noopener noreferrer">https://github.com/enigmampc/SecretNetwork</a></li>
</ul>
<p><img decoding="async" loading="lazy" alt="Secret Network is a blockchain-based, open-source protocol that lets anyone perform computations on encrypted data, bringing privacy to smart contracts and public blockchains." src="/assets/images/secret-network-75fddbf1a080bfd624320d9a4291f4e4.png" width="1440" height="810" class="img_ev3q"></p>
<ul>
<li><strong>Crypto.com</strong> 的试验性项目 Crypto.com chain 中使用 Teaclave 进行 SGX 应用的开发。<a href="https://github.com/crypto-com/chain" target="_blank" rel="noopener noreferrer">https://github.com/crypto-com/chain</a></li>
<li><strong>Phala Network</strong> 是一个 TEE-区块链混合结构实施的智能合约。<a href="https://github.com/Phala-Network/phala-blockchain" target="_blank" rel="noopener noreferrer">https://github.com/Phala-Network/phala-blockchain</a></li>
<li><strong>SafeTrace</strong> 项目是一个隐私保护的新型冠状病毒追踪系统，使用 SGX 保证用户的位置数据能够安全的进行交换。<a href="https://github.com/enigmampc/SafeTrace" target="_blank" rel="noopener noreferrer">https://github.com/enigmampc/SafeTrace</a></li>
<li><strong>substraTEE</strong> 为 substrate blockchains 提供了可信的 off-chain 计算框架。<a href="https://github.com/scs/substraTEE" target="_blank" rel="noopener noreferrer">https://github.com/scs/substraTEE</a></li>
<li><strong>Occlum</strong> 项目是基于 Teaclave SGX SDK 提供了一个 library OS 类型的 SGX 可信执行环境，使应用程序几乎不需要修改源代码即可放入 SGX 上运行。该项目即将加入 Confidiential Computing Consortium 机密计算联盟。<a href="https://github.com/occlum/occlum" target="_blank" rel="noopener noreferrer">https://github.com/occlum/occlum</a></li>
<li><strong>Veracruz</strong> 是一个多方不信任环境下的隐私保护的计算框架。该项目即将加入 Confidiential Computing Consortium 机密计算联盟。<a href="https://github.com/veracruz-project/veracruz" target="_blank" rel="noopener noreferrer">https://github.com/veracruz-project/veracruz</a></li>
</ul>
<p><img decoding="async" loading="lazy" alt="Projects powered by Teaclave" src="/assets/images/logo-projects-powered-by-teaclave-05f050592064cdc047dabd77472d5c12.png" width="2262" height="1380" class="img_ev3q"></p>
<p>以上些项目都是利用 TEE 提供的硬件隔离、内存加密、远程证实等特性，保护业务中数据计算的隐私。一些项目在 SGX SDK 基础上提供了更为便利的可信执行环境框架，比如 Occlum 和 Veracruz。另外一些项目使用 SGX SDK 编写 TEE 应用保护其业务逻辑中的数据隐私，或提供可信的节点，如 Secret Network 和 substraTEE。还有一些项目移植使用 Teaclave 平台里的通用模块，比如远程证实代码库等等。更多关于由 Teaclave 驱动的开源项目列表可以在官网中查看（<a href="https://teaclave.apache.org/community/" target="_blank" rel="noopener noreferrer">https://teaclave.apache.org/community/</a>）。</p>
<p>最后，Teaclave 项目非常欢迎大家共同参与社区，推动隐私安全计算发展。</p></div></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2020/10/29/announcing-teaclave-0.1.0-cn">让安全计算更简单 - Apache Teaclave™ (incubating) 0.1.0 正式发布</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2020-10-29T00:00:00.000Z">October 29, 2020</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Mingshen Sun</span></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p><a href="/blog/2020/10/21/announcing-teaclave-0-1-0/">English</a> | <a href="/blog/2020/10/28/announcing-teaclave-0-1-0-cn/">中文</a></p>
<p>Apache Teaclave™ (incubating) 作为全球首个开源通用安全计算平台，在 2020 年 10 月
21 日社区投票正式通过 0.1.0 的版本发布。0.1.0 版是 Teaclave 社区发展重要的里程碑，
它是暨 Teaclave 进入 Apache 孵化器后发布的第一个正式版本，这意味着 Teaclave 通向
Apache 顶级项目之路走上了正轨。</p>
<p>Teaclave 是一个安全计算平台，为隐私数据计算赋能。基于硬件安全能力，Teaclave 确保
敏感数据在可信域外和离岸场景下安全可控的流通和处理，无需担心隐私数据泄露和滥用。
Teaclave 同时支持多方参与的联合计算，打破企业和组织中的数据孤岛。</p>
<p>简单来说，Teaclave 有以下四个亮点：</p>
<ul>
<li><strong>安全性</strong>：Teaclave 使用多重安全技术保护隐私数据的计算。我们使用 Intel SGX，
提供基于硬件隔离、内存加密、远程证实等安全技术保护数据隐私计算任务。不仅如此，
为了避免内存安全漏洞带来的安全风险，Teaclave 还使用内存安全编程语言 Rust 编写。</li>
<li><strong>功能性</strong>：Teaclave 平台提供了更加便利的函数即服务（function-as-a-service）接
口，大大的降低了使用门槛。平台中也实现了众多内置函数，例如机器学习算法，多方联
合求交，加解密计算等等常用功能。更重要的是，开发者还可以使用 Python 自由编写函
数来操作隐私数据，提交至 Teaclave 平台执行。与传统 FaaS 框架不同的是，Teaclave
提供了灵活的多方参与计算接口，大大简化多方安全计算的流程。</li>
<li><strong>易用性</strong>：Teaclave 提供便利的部署方式，支持在本地和云上以容器的方式进行部署。
项目中还提供了完善的接口，客户端 SDK 以及命令行工具帮助开发者使用平台的功能。</li>
<li><strong>灵活性</strong>：Teaclave 设计了灵活的组件和服务框架，其他项目仅需少量修改就可以使
用 Teaclave 中的各种组件。例如，可以在项目中使用 Teaclave 远程证实库作为第三方
依赖库，或者直接单独部署使用 Teaclave 中的数据库服务等。</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Teaclave Architecture" src="/assets/images/teaclave-architecture-35948ede352754cf671e3a47c74e6768.png" width="2358" height="952" class="img_ev3q"></p>
<p>在 Teaclave 进入 Apache 孵化器后，我们启动了对项目的重构计划，同时对整个项目代码
和交互的梳理，0.1.0 的发布是项目从诞生到成长的第一步。简单来说，我们在以下几个方
面做了代码重构和功能特性完善：提供了更完善的函数和数据注册执行，重新设计的函数的
开发流程，支持兼容 protobuf 的 RPC 定义接口，支持分布式执行服务，支持自定义执行
器，提供更佳完善的文档，重新设计了错误处理机制，完善测试框架和测试用例，实现了更
多的内置函数，支持了更加灵活的远程证实方式（DCAP），重新设计 RPC 方式等等。更多
更详细的修改可以看我们的<a href="https://github.com/apache/incubator-teaclave/releases/tag/v0.1.0" target="_blank" rel="noopener noreferrer">版本发布文档</a>。这次
发布一共修改了 876 个源文件，新增了 78,237 行代码，删除了 54,846 行代码，并且在
GitHub issue 上解决了来自社区的 102 个问题。</p>
<p>Teaclave 0.1.0 版本可以在<a href="/download/">官网下载页面</a>找到（注意验证 PGP 签名和 hash）。</p>
<p>在新版本中我们提供了非常全面和详细的文档，如果是第一次了解和接触 Teaclave，我们
提供了一个简单易上手的<a href="/docs/my-first-function/">新手入门文档</a>，你可以在这个文档中
学习如何在 Teaclave 中编译和运行一个简单的函数。当然，如果你想深入的了解
Teaclave 的内部设计和实现，我们还有更多设计文档、API 文档、代码库文档等你发现。</p>
<p>感谢一直以来关注、使用、提问、为项目贡献代码的人们，Teaclave 项目的发展离不开<a href="/community/">社区</a>的支持与帮助。在此，我们非常高
兴的宣布，已有四家公司或组织在产品中使用 Teaclave，并且有超过九个开源项目使用了
Teaclave 平台和 Teaclave SGX SDK。这些都给项目的发展提供源源不断的动力。</p>
<p>Teaclave 的开源是 <a href="https://www.apache.org/theapacheway/" target="_blank" rel="noopener noreferrer">The Apache Way</a>的
开源，无论是代码、文档、设计还是路线图规划，我们都会在社区的各个渠道中讨论。如果
你想关注 Teaclave，亦或想加入我们的讨论，可以在 <a href="https://lists.apache.org/list.html?dev@teaclave.apache.org" target="_blank" rel="noopener noreferrer">Github issues</a>，邮件列
表回复我们、发起新的话题。也可以关注我们的 Twitter 账号
<a href="https://twitter.com/ApacheTeaclave" target="_blank" rel="noopener noreferrer">@ApacheTeaclave</a>了解最新动态。除此之外，
我们在<a href="/docs/papers-talks/">官网</a>中提供了
Teaclave 相关的演讲、论文和文章，包括今年在 ApacheCon 的演讲 slides 和视频。</p>
<p>在此，感谢我们所有<a href="/contributors/">贡献者</a>对于项
目的贡献，感谢 Apache 社区<a href="/contributors/#mentors">导师们</a>的指导，感谢所有帮助
扩大社区、宣传社区、讨论路线图、组织社区活动的 <a href="/contributors/#committers">PPMC 和 committer 成员</a>，
还要感谢正在了解
和尝试使用 Teaclave 的人们，以及回馈 Teaclave 社区的公司。你们都为 Teaclave 开源
社区的发展做了巨大的贡献。</p>
<p>最后，0.1.0 只是 Teaclave 的开端，我们还会和 Teaclave 社区继续努力，推动隐私安全
计算的发展。</p>
<p><strong>Teaclave，让安全计算更简单。</strong></p></div></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2020/10/22/announcing-teaclave-0.1.0">Announcing Apache Teaclave™ (incubating) 0.1.0</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2020-10-22T00:00:00.000Z">October 22, 2020</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Mingshen Sun</span></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p><a href="/blog/2020/10/21/announcing-teaclave-0-1-0/">English</a> | <a href="/blog/2020/10/28/announcing-teaclave-0-1-0-cn/">中文</a></p>
<p>On behalf of the Teaclave community, I am happy to announce the <em>first</em> Apache
Incubator release of Teaclave, 0.1.0. Teaclave is a universal secure computing
platform, making computation on privacy-sensitive data safe and simple.</p>
<p>The 0.1.0 release marks an important milestone for the Teaclave community. This
is the first public release of the Teaclave platform. Moreover, this is the
first official release since we entered Apache Incubator on August 19, 2019.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-highlights">Project highlights<a href="#project-highlights" class="hash-link" aria-label="Direct link to Project highlights" title="Direct link to Project highlights">​</a></h2>
<p>Since this is our first public release, I still want to emphasize the highlights
of the Teaclave project.</p>
<p>Apache Teaclave™ (incubating) has following highlights:</p>
<ul>
<li><strong>Security</strong>: Teaclave adopts multiple security technologies to enable secure
computing. In particular, Teaclave uses Intel SGX to serve the most
security-sensitive tasks with <em>hardware-based isolation</em>, <em>memory encryption</em>,
and <em>attestation</em>. Also, Teaclave is written in Rust to prevent
<em>memory-safety</em> issues.</li>
<li><strong>Functionality</strong>: Teaclave is provided as a <em>function-as-a-service platform</em>.
With many built-in functions, it supports tasks like machine learning, private
set intersection, crypto computation, etc. In addition, developers can also
deploy and execute Python scripts in Teaclave. More importantly, unlike
traditional FaaS, Teaclave supports both general secure computing tasks and
<em>flexible single- and multi-party computation</em>.</li>
<li><strong>Usability</strong>: Teaclave builds its components in containers, therefore, it
supports deployment both locally and within cloud infrastructures. Teaclave
also provides convenient endpoint APIs, client SDKs, and command-line tools.</li>
<li><strong>Modularity</strong>: Components in Teaclave are designed in modular, and some components
like remote attestation can be easily embedded in other projects. In addition,
Teaclave SGX SDK can also be used separately to write standalone SGX enclaves
for other purposes.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Teaclave Architecture" src="/assets/images/teaclave-architecture-35948ede352754cf671e3a47c74e6768.png" width="2358" height="952" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="changes-since-entering-apache-incubator">Changes since entering Apache Incubator<a href="#changes-since-entering-apache-incubator" class="hash-link" aria-label="Direct link to Changes since entering Apache Incubator" title="Direct link to Changes since entering Apache Incubator">​</a></h2>
<p>Since we entered Apache Incubator, we started an ambitious task of refactoring
and improving the project in many perspectives. These include:</p>
<ul>
<li>Supporting function and data registration.
<ul>
<li>input data of a function can be fetched from external storage</li>
<li>reuse registered function in new tasks</li>
</ul>
</li>
<li>Redesigning function development workflow.
<ul>
<li>developers only need to write python script with native libraries written in Rust</li>
</ul>
</li>
<li>Providing persistent database implementation.
<ul>
<li>port rusty-leveldb to SGX enclave using protected FS to secure file I/O</li>
<li>add dedicated database service called &quot;storage service&quot; for data persistency</li>
</ul>
</li>
<li>Supporting protobuf compatible RPC protocol.
<ul>
<li>refactor existing service protocol with <code>.proto</code> files</li>
<li>redesign PRC protocol with remote attestation</li>
</ul>
</li>
<li>Supporting distributed workers.
<ul>
<li>support docker deployment</li>
<li>decouple services into different containers</li>
</ul>
</li>
<li>Supporting customized workers.
<ul>
<li>service provider can deploy with other kinds of customized workers besides builtin worker</li>
</ul>
</li>
<li>Providing better documentation.</li>
<li>Providing better error handling.
<ul>
<li>errors can be propagated through RPC</li>
<li>better error triage</li>
</ul>
</li>
<li>Testsuite cleanup/refactoring.</li>
<li>Implementing more built-in functions: we have nine built-in functions, including
echo, face detection, gbdt predict/train, logistic regression predict/train,
online decrypt, ordered set intersect, private join and compute, and RSA sign.</li>
<li>Supporting more flexible attestation mechanisms (DCAP): providing a reference
implementation of DCAP attestation service and supporting DCAP in our
attestation library and build system as well.</li>
<li>RPC enhancement.
<ul>
<li>multi-language client</li>
</ul>
</li>
<li>Many other changes.</li>
</ul>
<p>These changes include 876 files changed, 78,237 insertions, and 54,846 deletions.
We have also closed 102 issues on GitHub to answer questions from the community
and implementing feature requests.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="download">Download<a href="#download" class="hash-link" aria-label="Direct link to Download" title="Direct link to Download">​</a></h2>
<p>Teaclave 0.1.0 can be downloaded at <a href="/download/">the download page</a>. Note that
it is essential to verify the integrity of the downloaded file using the
PGP signature (.asc file) or a hash (.md5 or .sha* file).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="documentation">Documentation<a href="#documentation" class="hash-link" aria-label="Direct link to Documentation" title="Direct link to Documentation">​</a></h2>
<p>If it is the first time to try Teaclave, we provide a simple but clear tutorial
to guide you getting stated with Teaclave by invoking
<a href="/docs/my-first-function/">your first function</a> in Teaclave.</p>
<p>Basically, you can build the Teaclave platform using docker with these commands:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ cd incubator-teaclave</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker run --rm -v $(pwd):/teaclave -w /teaclave \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -it teaclave/teaclave-build-ubuntu-1804-sgx-2.9.1:latest \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   bash -c &quot;. /root/.cargo/env &amp;&amp; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     . /opt/sgxsdk/environment &amp;&amp; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     mkdir -p build &amp;&amp; cd build &amp;&amp; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     cmake -DTEST_MODE=ON .. &amp;&amp; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     make&quot;</span><br></span></code></pre></div></div>
<p>Launch all services with <code>docker-compose</code>:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ (cd docker &amp;&amp; docker-compose -f docker-compose-ubuntu-1804.yml up --build)</span><br></span></code></pre></div></div>
<p>And invoke function with a Python client:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ cd examples/python</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ PYTHONPATH=../../sdk/python python3 builtin_echo.py &#x27;Hello, Teaclave!&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[+] registering user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[+] login</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[+] registering function</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[+] creating task</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[+] approving task</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[+] invoking task</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[+] getting result</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[+] done</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[+] function return:  b&#x27;Hello, Teaclave!&#x27;</span><br></span></code></pre></div></div>
<p>If you want to understand the internals of Teaclave, we provide several
documents about the <a href="/docs/#design">design</a> of Teaclave. Also, we extensively
document our <a href="/blog/page/docs/#codebase">codebase</a> in each sub directories. At last, <a href="/blog/page/docs/#api-references">API references</a>
are automatically generated and uploaded to our homepage.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">​</a></h2>
<p>Along our road to the first public release, we also see the growth of the
community who started to follow the project and using in their products. We have
seen at least four <a href="/blog/page/community/#organizations">organizations</a> using Teaclave in
their products, and more than nine open source <a href="/blog/page/community/#projects">projects</a>
building on top of Teaclave platform or Teaclave SGX SDK.</p>
<p>We build several channels to communicate with the community including GitHub issues,
<a href="https://lists.apache.org/list.html?dev@teaclave.apache.org" target="_blank" rel="noopener noreferrer">mailing lists</a>, and
Twitter account (<a href="https://twitter.com/ApacheTeaclave" target="_blank" rel="noopener noreferrer">@ApacheTeaclave</a>).</p>
<p>We also attended ApacheCon this year to introduce Teaclave to the Apache community.
If you missed the talk, please find the slides and other materials of talks,
papers, and related articles at <a href="/docs/papers-talks/">this page</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="thanks">Thanks<a href="#thanks" class="hash-link" aria-label="Direct link to Thanks" title="Direct link to Thanks">​</a></h2>
<p>I&#x27;d like to thank all <a href="/contributors/">contributors</a> to build this community.
Thanks to our project <a href="/contributors/#mentors">mentors</a>, who help us to
understand the Apache way of open source. Furthermore,
thanks to all <a href="/contributors/#committers">PPMC members and committers</a>
for governing and expanding the community, organizing meetups, discussing
roadmap, designing components, writing documents, contributing code, and
advertising the project. Moreover, thanks to all <a href="/contributors/#contributors-2">external contributors</a>
who send pull requests to fix bugs
and implementing features. In addition, I&#x27;d like to thank people who tries
Teaclave themselves, files bugs or feature requests. This also helps us to
understand the project and figure out where we can improve.
Finally, I&#x27;d like to thank companies who use Teaclave and contribute back to
the community.</p>
<p>At last, 0.1.0 is just the start of Teaclave. We will continue working hard with
the community implementing new features, writing documents, and expanding the
community.</p>
<p>Happy Teaclaving. Cheers!</p></div></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2019/12/03/mitigation-of-intel-sa-00219-in-teaclave-sgx-sdk">Mitigation of Intel-SA-00219 in Teaclave SGX SDK</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2019-12-03T00:00:00.000Z">December 3, 2019</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Yu Ding</span></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="background">Background<a href="#background" class="hash-link" aria-label="Direct link to Background" title="Direct link to Background">​</a></h2>
<p>Intel issued <a href="https://www.intel.com/content/www/us/en/security-center/advisory/intel-sa-00219.html" target="_blank" rel="noopener noreferrer">Intel SA-00219</a> on Nov 12, 2019, with CVE number <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-0117" target="_blank" rel="noopener noreferrer">CVE-2019-0117</a>. Intel also published a <a href="https://software.intel.com/en-us/download/intel-sgx-sdk-developer-guidance-intel-sa-00219" target="_blank" rel="noopener noreferrer">guidance</a> to instruct the developers/researchers. Then Intel released <a href="https://01.org/intel-softwareguard-extensions/downloads/intel-sgx-linux-2.7.1-release-version-string-2.7.101.3" target="_blank" rel="noopener noreferrer">Intel SGX SDK v2.7.1</a>, including new memory allocation primitives and corresponding patches in PSW enclaves.</p>
<p>This article is to help people understand Intel-SA-00219, and how Teaclave SGX SDK handles it.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-problem-statement-and-my-thoughts">The problem statement and my thoughts<a href="#the-problem-statement-and-my-thoughts" class="hash-link" aria-label="Direct link to The problem statement and my thoughts" title="Direct link to The problem statement and my thoughts">​</a></h2>
<p>The only statement I found is on the <a href="https://www.intel.com/content/www/us/en/security-center/advisory/intel-sa-00219.html" target="_blank" rel="noopener noreferrer">Intel-SA-00219 page</a>:</p>
<blockquote>
<p>Organize the code/data within enclave memory to avoid putting sensitive materials in DWORD0 and DWORD1 of cache line. The effectiveness of this mitigation is dependent on the ability for the software to avoid the affected memory region. To assist the enclave application providers to modify their code, Intel is releasing SGX SDK update (Windows version 2.5.101.3, Linux version 2.7.101.3) with new memory allocation APIs to avoid the affected memory region. More details about the APIs can be found <a href="https://software.intel.com/en-us/download/intel-sgx-sdk-developer-guidance-intel-sa-00219" target="_blank" rel="noopener noreferrer">here</a>.</p>
</blockquote>
<p>Intel does not directly describe the vulnerability here. But it&#x27;s clear that the 64-byte cache line would contain 8-byte or sensitive data, which can be keys protected by Intel SGX. So the following memory layout can be problematic in SGX:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> --------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| attacker accessible data A | private key (inaccessible) | attacker accessible data B |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> --------------------------------------------------------------------------------------</span><br></span></code></pre></div></div>
<p>It&#x27;s equal to a vulnerable data structure like:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">struct foo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint64_t A;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint64_t secret;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint64_t B;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>where <code>foo.A</code> and <code>foo.B</code> are accessible by design, while <code>foo.secret</code> is not.</p>
<p>If an attacker somehow can access either A or B, he probably will have first or last 8-byte of the &quot;inaccessible&quot; secret in cache line. Then something bad may happen.</p>
<p>So, the most straightforward mitigation is to insert additional &quot;guard bytes&quot; before and after the sensitive data:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> ----------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| attacker data A | 8-byte guard | private key (inaccessible) | 8-byte guard | attacker data B |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ----------------------------------------------------------------------------------------------</span><br></span></code></pre></div></div>
<p>It results in a modified structure like</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">struct foo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint64_t A;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (private) uint64_t _guard0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint64_t secret;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (private) uint64_t _guard1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint64_t B;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Further investigation from Intel&#x27;s code reveals that <code>_guard1</code> is not required. So it can be:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">     -------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    | attacker data A | 8-byte guard | private key (inaccessible) | attacker data B |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -------------------------------------------------------------------------------</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="intels-new-allocator-primitive">Intel&#x27;s new allocator primitive<a href="#intels-new-allocator-primitive" class="hash-link" aria-label="Direct link to Intel&#x27;s new allocator primitive" title="Direct link to Intel&#x27;s new allocator primitive">​</a></h2>
<p>Intel&#x27;s guidance provides:</p>
<p>(1) A C++ template <code>custom_alignment_aligned</code>
(2) A C function <code>sgx_get_aligned_ptr</code> and one of its parameter&#x27;s type <code>struct align_req_t</code>
(3) A dynamic memory allocator function <code>sgx_aligned_malloc</code></p>
<p>After spending hours on Intel&#x27;s code, I realized that these primitives are helping developers allocate a larger object which:</p>
<p>a) contains all fields of the original object.
b) adds &quot;guard bytes&quot; before and after each &quot;specified secret field&quot;.
c) align each &quot;specified secret field&quot; on demand</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="intels-patches-on-psw-enclaves">Intel&#x27;s patches on PSW enclaves<a href="#intels-patches-on-psw-enclaves" class="hash-link" aria-label="Direct link to Intel&#x27;s patches on PSW enclaves" title="Direct link to Intel&#x27;s patches on PSW enclaves">​</a></h2>
<p>The most easy to understand example is from <code>psw/ae/pse_op/session_mgr.cpp</code>:</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@@ -417,7 +461,12 @@ pse_op_error_t pse_exchange_report(uint64_t tick,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     pse_op_error_t status = OP_SUCCESS;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     sgx_dh_session_t sgx_dh_session;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-    sgx_key_128bit_t aek;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+    //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+    // securely align aek</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+    //</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+    //sgx_key_128bit_t aek;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+    sgx::custom_alignment_aligned&lt;sgx_key_128bit_t, sizeof(sgx_key_128bit_t), 0, sizeof(sgx_key_128bit_t)&gt; oaek;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+    sgx_key_128bit_t&amp; aek = oaek.v;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     sgx_dh_session_enclave_identity_t initiator_identity;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     cse_sec_prop_t * pcse_sec = NULL;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     secu_info_t* psec_info = NULL;</span><br></span></code></pre></div></div>
<p>The template generates a larger struct <code>oaek</code>. Size of <code>sgx_key_128bit_t</code> is 16 bytes, and <code>sizeof(oaek)</code> equals to 32. And the offset of <code>oaek.v</code> is 8.</p>
<p>And in the same file, another fix is:</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">--- a/psw/ae/pse/pse_op/session_mgr.cpp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+++ b/psw/ae/pse/pse_op/session_mgr.cpp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@@ -29,21 +29,65 @@</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+#include &lt;sgx_secure_align.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> #include &quot;utility.h&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> #include &quot;session_mgr.h&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> #include &quot;pse_op_t.h&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> #include &quot;sgx_dh.h&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> // ISV enclave &lt;-&gt; pse-op sessions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-static pse_session_t        g_session[SESSION_CONNECTION];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+//</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+// securely align all ISV enclave - pse sessions&#x27; secrets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+//</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+static sgx::custom_alignment_aligned&lt;pse_session_t, 16, __builtin_offsetof(pse_session_t, active.AEK), 16&gt; og_session[SESSION_CONNECTION];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+//</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+// following allows existing references to g_session[index]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+// to not have to change</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+//</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+class CSessions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+    pse_session_t&amp; operator[](int index) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+        return og_session[index].v;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+static CSessions g_session;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> static uint32_t             g_session_count = 0;</span><br></span></code></pre></div></div>
<p>It seems that the original global <code>g_session</code> array is vulnerabile to INTEL-SA-00219. So Intel created a new structure <code>CSessions</code> and reloaded the <code>[]</code> operator, and used <code>custom_alignment_aligned</code> template to create the array of guarded <code>CSessions</code>.</p>
<p>We can see some more complex samples in the same file, such as:</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> // ephemeral session global variables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> static uint8_t              g_nonce_r_pse[EPH_SESSION_NONCE_SIZE] = {0};      // nonce R(PSE) for ephemeral session establishment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> static uint8_t              g_nonce_r_cse[EPH_SESSION_NONCE_SIZE] = {0};      // nonce R(CSE) for ephemeral session establishment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-static pairing_data_t       g_pairing_data;                       // unsealed pairing data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-eph_session_t               g_eph_session;                        // ephemeral session information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+//</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+// securely align pairing data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+// Id_pse and Id_cse aren&#x27;t secrets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+// I don&#x27;t think pairingNonce is a secret and even if it is, we can&#x27;t align</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+// all of [mk, sk, pairingID, pairingNonce]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+//</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+//static pairing_data_t       g_pairing_data;                       // unsealed pairing data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+static sgx::custom_alignment&lt;pairing_data_t,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+    //__builtin_offsetof(pairing_data_t, secret_data.Id_pse), sizeof(((pairing_data_t*)0)-&gt;secret_data.Id_pse),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+    //__builtin_offsetof(pairing_data_t, secret_data.Id_cse), sizeof(((pairing_data_t*)0)-&gt;secret_data.Id_cse),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+    __builtin_offsetof(pairing_data_t, secret_data.mk), sizeof(((pairing_data_t*)0)-&gt;secret_data.mk),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+    __builtin_offsetof(pairing_data_t, secret_data.sk), sizeof(((pairing_data_t*)0)-&gt;secret_data.sk),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+    __builtin_offsetof(pairing_data_t, secret_data.pairingID), sizeof(((pairing_data_t*)0)-&gt;secret_data.pairingID)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+    //__builtin_offsetof(pairing_data_t, secret_data.pairingNonce), sizeof(((pairing_data_t*)0)-&gt;secret_data.pairingNonce)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+    &gt; opairing_data;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+pairing_data_t&amp; g_pairing_data = opairing_data.v;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+//</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+// securely align pse - cse/psda ephemeral session secrets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+//</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+//eph_session_t               g_eph_session;                        // ephemeral session information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+sgx::custom_alignment&lt;eph_session_t,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+    __builtin_offsetof(eph_session_t, TSK), sizeof(((eph_session_t*)0)-&gt;TSK),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+    __builtin_offsetof(eph_session_t, TMK), sizeof(((eph_session_t*)0)-&gt;TMK)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+&gt; oeph_session;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+//</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+// this reference trick requires change to declaration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+// in other files, but still cleaner than changing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+// all references</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+//</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+eph_session_t&amp; g_eph_session = oeph_session.v;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  * @brief Check the status of the ephemeral session</span><br></span></code></pre></div></div>
<p>To understand it, let me expand <code>struct pairing_data_t</code> here:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/* Pairing blob unsealed and usable inside of enclave*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">typedef struct _pairing_data_t</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    se_plaintext_pairing_data_t plaintext; // does not involved</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    struct se_secret_pairing_data_t {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            SHA256_HASH         Id_pse;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            SHA256_HASH         Id_cse;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            SIGMA_MAC_KEY       mk;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            SIGMA_SECRET_KEY    sk;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            SIGMA_SECRET_KEY    pairingID;  // old_sk used for repairing check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Nonce128_t          pairingNonce;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            EcDsaPrivKey        VerifierPrivateKey;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } secret_data;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} pairing_data_t;</span><br></span></code></pre></div></div>
<p>The patch seems to protect <code>mk</code>, <code>sk</code>, and <code>pairingID</code>, and all the other fields are commented out. What&#x27;s more, this patch uses a <strong>undocumented</strong> template <code>sgx::custom_alignment</code> defined as:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">template</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">T</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">size_t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> OLs</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">using</span><span class="token plain"> custom_alignment </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> custom_alignment_aligned</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">T</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">alignof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">T</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> OLs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="experiments-on-the-undocument-template">Experiments on the undocument template<a href="#experiments-on-the-undocument-template" class="hash-link" aria-label="Direct link to Experiments on the undocument template" title="Direct link to Experiments on the undocument template">​</a></h2>
<p>To test how the undocumented template work, I write the following codes:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">foo</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">uint64_t</span><span class="token plain"> secret1</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// offset = 0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> sgx</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">custom_alignment</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">foo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__builtin_offsetof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">foo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> secret1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">foo</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">secret1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> AFOO</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;=== Size of foo = %u ===\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">foo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                               </span><span class="token comment" style="color:#999988;font-style:italic">// 40</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;=== Size of bar = %u ===\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AFOO</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                              </span><span class="token comment" style="color:#999988;font-style:italic">// 64</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;=== offset of AROO.v = %u ===\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__builtin_offsetof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AFOO</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// 8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;=== offset of secret1 = %u ===\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__builtin_offsetof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AFOO</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">secret1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 8</span><br></span></code></pre></div></div>
<p>So we can see that the structure of AROO is:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">AROO</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">uint64_t</span><span class="token plain"> _padding_head</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// offset = 0, len = 8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">uint64_t</span><span class="token plain"> secret1</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// offset = 8, len = 40</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> v</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">uint64_t</span><span class="token plain"> _padding_tail</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// offset = 40, len = 16</span><br></span></code></pre></div></div>
<p>It seems the undocumented C++ template aligns <code>AROO</code> to the next level, and add 8-byte headings into it. If we add the second secret in <code>foo</code> like:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">foo</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">uint64_t</span><span class="token plain"> secret1</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// offset = 0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">uint64_t</span><span class="token plain"> secret2</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// offset = 40</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> sgx</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">custom_alignment</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">foo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">__builtin_offsetof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">foo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> secret1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">foo</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">secret1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">__builtin_offsetof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">foo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> secret2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">foo</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">secret2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> AFOO</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;=== Size of foo = %u ===\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">foo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// 48</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;=== Size of bar = %u ===\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AFOO</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// 64</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;=== offset of AROO.v = %u ===\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__builtin_offsetof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AFOO</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// 8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;=== offset of AROO.v.secret1 = %u ===\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__builtin_offsetof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AFOO</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">secret1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// 8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;=== offset of AROO.v.secret2 = %u ===\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__builtin_offsetof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AFOO</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">secret2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// 48</span><br></span></code></pre></div></div>
<p>we can see that the structure of AROO is:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">AROO</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">uint64_t</span><span class="token plain"> _padding_head</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// offset = 0, len = 8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">uint64_t</span><span class="token plain"> secret1</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// offset = 8, len = 40</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">uint64_t</span><span class="token plain"> secret2</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// offset = 48, len = 8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> v</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">uint64_t</span><span class="token plain"> _padding_tail</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// offset = 56, len = 8</span><br></span></code></pre></div></div>
<p>If we increase <code>secret2</code> to 16-bytes, it works well as usual. And the <code>_padding_tail</code> will have <strong>zero length</strong>. So does it means that <em>only extra heading is required for mitigation</em>? But it&#x27;ll not compile if we make <code>secret2</code> 24-bytes, like:</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    struct foo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint64_t secret1[5];       // offset = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint64_t secret2[3];       // offset = 40</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    typedef sgx::custom_alignment&lt;foo,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                __builtin_offsetof(foo, secret1), sizeof(((foo*)0)-&gt;secret1),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                __builtin_offsetof(foo, secret2), sizeof(((foo*)0)-&gt;secret2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &gt; AFOO;</span><br></span></code></pre></div></div>
<p>GCC would terminate on:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">make[1]: Entering directory &#x27;/root/linux-sgx/SampleCode/Cxx11SGXDemo&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">In file included from Enclave/TrustedLibrary/Libcxx.cpp:47:0:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/opt/sgxsdk/include/sgx_secure_align.h: In instantiation of &#x27;struct sgx::__custom_alignment_internal::custom_alignment&lt;ecall_lambdas_demo()::foo, 8ul, -1&gt;&#x27;:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Enclave/TrustedLibrary/Libcxx.cpp:125:53:   required from here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/opt/sgxsdk/include/sgx_secure_align.h:123:13: error: static assertion failed: No viable offset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             static_assert(LZ &gt; 0, &quot;No viable offset&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             ^</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/opt/sgxsdk/include/sgx_secure_align.h:125:48: error: size of array is negative</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             char __no_secret_allowed_in_here[LZ];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                ^</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Makefile:255: recipe for target &#x27;Enclave/TrustedLibrary/Libcxx.o&#x27; failed</span><br></span></code></pre></div></div>
<p>Nothing changes if we switch to the original template <code>sgx::custom_alignment_aligned</code>. So I guess the template does not support structures:</p>
<ul>
<li>contains secrets consecutively,  and</li>
<li>the consecutive secrets&#x27; size is larger than a certain number (not sure yet)</li>
</ul>
<p>If we break down <code>secret1</code> and <code>secret2</code> by inserting something in the middle, the template works:</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">struct foo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64_t secret1[5];       // offset = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  char     dumb;             // offset = 40</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64_t secret2[3];       // offset = 48</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">typedef sgx::custom_alignment&lt;foo,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__builtin_offsetof(foo, secret1), sizeof(((foo*)0)-&gt;secret1),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__builtin_offsetof(foo, secret2), sizeof(((foo*)0)-&gt;secret2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &gt; AFOO;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printf(&quot;=== Size of foo = %u ===\n&quot;, sizeof(foo));            // 72</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printf(&quot;=== Size of bar = %u ===\n&quot;, sizeof(AFOO));           // 128</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printf(&quot;=== offset of AROO.v = %u ===\n&quot;, __builtin_offsetof(AFOO, v));           // 24</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printf(&quot;=== offset of AROO.v.secret1 = %u ===\n&quot;, __builtin_offsetof(AFOO, v.secret1));           // 24</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printf(&quot;=== offset of AROO.v.secret2 = %u ===\n&quot;, __builtin_offsetof(AFOO, v.secret2));           // 72</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="changesactions-required">Changes/Actions required<a href="#changesactions-required" class="hash-link" aria-label="Direct link to Changes/Actions required" title="Direct link to Changes/Actions required">​</a></h2>
<p>From Intel&#x27;s usage, we can learn that:</p>
<p>**Don&#x27;t construct a sensitive data structure directly. Always allocate an aligned structure and fill it up later **</p>
<p>It means:</p>
<ul>
<li>if you allocate something sensitive (e.g. keys in <code>sgx_key_128bit_t</code>) on stack/heap, you probably need to allocate another guarded structure first, and get a mutable reference to its inner data.</li>
<li>if you want to make <code>sgx_key_128bit_t</code> as the type of return value, you can choose between (1) return a guarded structure, or (2) takes an additional argument of caller-allocated, mutuable reference of <code>sgx_key_128bit_t</code> and fill it.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rust-sgx-provided-primitive">Rust SGX provided primitive<a href="#rust-sgx-provided-primitive" class="hash-link" aria-label="Direct link to Rust SGX provided primitive" title="Direct link to Rust SGX provided primitive">​</a></h2>
<ul>
<li>
<p>We provided <code>AlignBox</code> as a replacement of <code>Box</code></p>
<ul>
<li>
<p><code>Box</code> is somewhat tricky because it always &quot;initialize on stack first and copy to heap later&quot;. <a href="https://github.com/kvark/copyless" target="_blank" rel="noopener noreferrer">copyless</a> provides a novel primitive to solve <a href="https://github.com/dingelish/realbox" target="_blank" rel="noopener noreferrer">it but it does not always effective</a>. To this end, we created <code>AlignBox</code> which guarantees &quot;on-heap initialization&quot; without copying any bits. Usage:</p>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> heap_align_obj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">AlignBox</span><span class="token punctuation" style="color:#393A34">::</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">struct_align_t</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">heap_init_with_req</span><span class="token punctuation" style="color:#393A34">(</span><span class="token closure-params closure-punctuation punctuation" style="color:#393A34">|</span><span class="token closure-params keyword" style="color:#00009f">mut</span><span class="token closure-params"> t</span><span class="token closure-params closure-punctuation punctuation" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">key1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0xf0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf7</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xfa</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xfb</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xfc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xfd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xfe</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xff</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pad1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0x00</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">key2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0xf0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf7</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xfa</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xfb</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xfc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xfd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xfe</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xff</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pad2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0x00</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">key3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0xf0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf7</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xfa</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xfb</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xfc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xfd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xfe</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xff</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pad3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0x00</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">key4 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0xf0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf7</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xf9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xfa</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xfb</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xfc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xfd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xfe</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xff</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">str_slice</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property" style="color:#36acaa">assert!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">heap_align_obj</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">is_some</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
<li>
<p>We provided aligned key type for each built-in key type. The layout are calculated by Intel&#x27;s template.</p>
<ul>
<li><code>sgx_align_key_128bit_t</code></li>
<li><code>sgx_align_mac_128bit_t</code></li>
<li><code>sgx_align_key_256bit_t</code></li>
<li><code>sgx_align_mac_256bit_t</code></li>
<li><code>sgx_align_ec256_dh_shared_t</code></li>
<li><code>sgx_align_ec256_private_t</code></li>
</ul>
</li>
</ul>
<p>We modified <code>sgx_tcrypto</code>, <code>sgx_tse</code>, and <code>sgx_tdh</code> and use the above primitives for enhancement, following the above required changes. One sample is from <code>sgx_tcrypto</code>:</p>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">+</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">mut</span><span class="token plain"> align_mac </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">sgx_align_mac_128bit_t</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token function" style="color:#d73a49">default</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">+</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsafe</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">+</span><span class="token plain">        </span><span class="token function" style="color:#d73a49">sgx_rijndael128_cmac_msg</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">key </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> sgx_cmac_128bit_key_t</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">+</span><span class="token plain">                                 src</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">as_ptr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">u8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">+</span><span class="token plain">                                 size </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">u32</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">+</span><span class="token plain">                                 </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token keyword" style="color:#00009f">mut</span><span class="token plain"> align_mac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mac </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">mut</span><span class="token plain"> sgx_cmac_128bit_tag_t</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">+</span><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>We allocate an aligned structure first, and then fill it up using Intel&#x27;s crypto primitive later.</p></div></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2019/08/20/apache-incubation-proposal">Aapache Incubation Proposal</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2019-08-20T00:00:00.000Z">August 20, 2019</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">The Teaclave PPMC</span></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>MesaTEE Apache Incubation Proposal</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="abstract">Abstract<a href="#abstract" class="hash-link" aria-label="Direct link to Abstract" title="Direct link to Abstract">​</a></h2>
<p>MesaTEE is a framework for universal secure computing.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="proposal">Proposal<a href="#proposal" class="hash-link" aria-label="Direct link to Proposal" title="Direct link to Proposal">​</a></h2>
<p>MesaTEE is the next-gen solution to enable general computing service for
security-critical scenarios. It will allow even the most sensitive data to
be securely processed to enable offshore businesses without leakage.</p>
<p>The solution combines the advanced Hybrid Memory Safety (HMS) model and the
power of the Trusted Computing technologies (e.g., TPM) as well as the
Confidential Computing technologies (e.g., Intel SGX).</p>
<ul>
<li>Code base:
<ul>
<li><a href="https://github.com/mesalock-linux/mesatee" target="_blank" rel="noopener noreferrer">https://github.com/mesalock-linux/mesatee</a></li>
<li><a href="https://github.com/baidu/rust-sgx-sdk" target="_blank" rel="noopener noreferrer">https://github.com/baidu/rust-sgx-sdk</a></li>
</ul>
</li>
<li>Website: <a href="https://mesatee.org" target="_blank" rel="noopener noreferrer">https://mesatee.org</a></li>
<li>Documentation: <a href="https://mesatee.org/doc/mesatee_sdk/" target="_blank" rel="noopener noreferrer">https://mesatee.org/doc/mesatee_sdk/</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="background">Background<a href="#background" class="hash-link" aria-label="Direct link to Background" title="Direct link to Background">​</a></h2>
<p>The emerging technologies of big data analytics, machine learning, cloud/edge
computing, and blockchain are significantly boosting our productivity, but at
the same time they are bringing new confidentiality and integrity concerns. On
public cloud and blockchain, sensitive data like health and financial records
may be consumed at runtime by untrusted computing processes running on
compromised platforms; during in-house data exchange, confidential information
may cross different clearance boundaries and possibly fall into the wrong hands;
also not to mention the privacy issue arises in offshore data supply chains.</p>
<p>Although the consequences of data breaching have been extensively elaborated, we
should also note that proprietary computing algorithms themselves, such as AI
models, also need to be well protected. Once leaked, attackers can steal the
intellectual properties, or launch whitebox attacks and easily exploit the
weaknesses of the models.</p>
<p>Facing all these risky scenarios, we are in desperate need of a trusted and
secure mechanism, enabling us to protect both private data and proprietary
computing models during a migratable execution in potentially unsafe
environments, yet preserving functionalities, performance, compatibility, and
flexibility. MesaTEE is targeting to be, as we call it, the full &quot;Universal
Secure Computing&quot; stack, so it can help users resolve these runtime security
risks.</p>
<p>MesaTEE aims to promote the development of universal secure computing ecosystem
through open source and openness, to provide basic support for trust protection
for the productivity revolution brought by big data and AI, to completely solve
the data exchange or multi-party computing between departments/companies, to
enable privacy-crucial services such as financial and medical care using
blockchain/cloud services, and to convoy businesses that are closely related to
life and safety such as autonomous driving. MesaTEE has been working closely
with mainstream cloud computing/blockchain/chip vendors and
universities/research institutions to promote hardware TEE, software memory
safety, and versatile computing services to create an internationally protected
and flexible secure computing framework. MesaTEE’s open-source release will
greatly accelerate the development of the next generation of big data business
applications, and it is also of great importance to promoting AI in all business
areas.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rationale">Rationale<a href="#rationale" class="hash-link" aria-label="Direct link to Rationale" title="Direct link to Rationale">​</a></h2>
<p>MesaTEE stack redefines future AI and big data analytics by providing a trusted
and secure offshore computing environment. The confidentiality and privacy of
data and models can be well protected with MesaTEE, even if data and model
originate from different parties with no mutual trust. Moreover, the computing
platform itself is not necessarily trusted either. The Trusted Computing Base
(TCB) can thus be largely reduced to MesaTEE framework alone. A detailed
description of target use-cases can be found at
<a href="https://github.com/mesalock-linux/mesatee/blob/master/docs/case_study.md" target="_blank" rel="noopener noreferrer">https://github.com/mesalock-linux/mesatee/blob/master/docs/case_study.md</a>.</p>
<p>We believe that Apache way of open source community empowers MesaTEE to attract
a diverse set of contributors who can bring new ideas into the project.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="initial-goals">Initial Goals<a href="#initial-goals" class="hash-link" aria-label="Direct link to Initial Goals" title="Direct link to Initial Goals">​</a></h2>
<ul>
<li>Move the existing codebase, website, documentation, and mailing lists to an
Apache-hosted infrastructure.</li>
<li>Integrate with the Apache development process.</li>
<li>Ensure all dependencies are compliant with Apache License version 2.0.</li>
<li>Incrementally develop and release per Apache guidelines.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="current-status">Current Status<a href="#current-status" class="hash-link" aria-label="Direct link to Current Status" title="Direct link to Current Status">​</a></h2>
<p>The MesaTEE project (and its sub-project Rust SGX SDK) has been designed and
developed at Baidu since 2017, and was open sourced under the Apache License,
Version 2.0 in 2019. The source code is currently hosted at github.com
(<a href="https://github.com/mesalock-linux/mesatee" target="_blank" rel="noopener noreferrer">https://github.com/mesalock-linux/mesatee</a> and
<a href="https://github.com/baidu/rust-sgx-sdk" target="_blank" rel="noopener noreferrer">https://github.com/baidu/rust-sgx-sdk</a>), which will seed the Apache git
repository.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="meritocracy">Meritocracy<a href="#meritocracy" class="hash-link" aria-label="Direct link to Meritocracy" title="Direct link to Meritocracy">​</a></h3>
<p>We are fully committed to open, transparent, and meritocratic interactions with
our community. In fact, one of the primary motivations for us to enter the
incubation process is to be able to rely on Apache best practices that can
ensure meritocracy. This will eventually help incorporate the best ideas back
into the project and enable contributors to continue investing their time in the
project. We already have some guidelines to help external contributors:</p>
<ul>
<li><a href="https://github.com/mesalock-linux/mesatee/blob/master/docs/rust_guideline.md" target="_blank" rel="noopener noreferrer">https://github.com/mesalock-linux/mesatee/blob/master/docs/rust_guideline.md</a></li>
<li><a href="https://github.com/mesalock-linux/mesatee/blob/master/docs/how_to_add_your_function.md" target="_blank" rel="noopener noreferrer">https://github.com/mesalock-linux/mesatee/blob/master/docs/how_to_add_your_function.md</a></li>
<li><a href="https://github.com/mesalock-linux/mesatee/blob/master/CODE_OF_CONDUCT.md" target="_blank" rel="noopener noreferrer">https://github.com/mesalock-linux/mesatee/blob/master/CODE_OF_CONDUCT.md</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">​</a></h3>
<p>The MesaTEE community is fairly young. Since our sub-project (Rust SGX SDK) was
open sourced in 2017, we received many contributions from various companies and
individual researchers (<a href="https://github.com/baidu/rust-sgx-sdk/pulls" target="_blank" rel="noopener noreferrer">https://github.com/baidu/rust-sgx-sdk/pulls</a>). Our
primary goal during the incubation would be to grow the community and groom our
existing active contributors for committers.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="core-developers">Core Developers<a href="#core-developers" class="hash-link" aria-label="Direct link to Core Developers" title="Direct link to Core Developers">​</a></h3>
<p>Current core developers work at Baidu. We are confident that incubation will
help us grow a diverse community in an open and collaborative way.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="alignment">Alignment<a href="#alignment" class="hash-link" aria-label="Direct link to Alignment" title="Direct link to Alignment">​</a></h3>
<p>MesaTEE is designed as a framework for universal secure computing. This is
complementary to the Apache&#x27;s projects, providing a trusted and secure computing
framework.</p>
<p>Our sincere hope is that being a part of the Apache foundation would enable us
to drive the future of the project in alignment with the other Apache projects
for the benefit of thousands of organizations that already leverage these
projects.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="known-risks">Known Risks<a href="#known-risks" class="hash-link" aria-label="Direct link to Known Risks" title="Direct link to Known Risks">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="orphaned-products">Orphaned Products<a href="#orphaned-products" class="hash-link" aria-label="Direct link to Orphaned Products" title="Direct link to Orphaned Products">​</a></h3>
<p>The risk of abandonment of MesaTEE is low. MesaTEE has been incubated at Baidu
for over two years. Baidu is committed to the further development of the project
and will keep investing resources towards the Apache processes and community
building, during the incubation period.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="inexperience-with-open-source">Inexperience with Open Source<a href="#inexperience-with-open-source" class="hash-link" aria-label="Direct link to Inexperience with Open Source" title="Direct link to Inexperience with Open Source">​</a></h3>
<p>Even though the initial committers are new to the Apache world, some have
considerable open source experience - Yu Ding, Yiming Jing, Mingshen Sun. We
have been successfully managing the current open source community, answering
questions, and taking feedback already. Moreover, we hope to obtain guidance and
mentorship from current ASF members to help us succeed in the incubation.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="length-of-incubation">Length of Incubation<a href="#length-of-incubation" class="hash-link" aria-label="Direct link to Length of Incubation" title="Direct link to Length of Incubation">​</a></h3>
<p>We expect the project to be in incubation for 2 years or less.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="homogenous-developers">Homogenous Developers<a href="#homogenous-developers" class="hash-link" aria-label="Direct link to Homogenous Developers" title="Direct link to Homogenous Developers">​</a></h3>
<p>Currently, the lead developers for MesaTEE are from Baidu. However, we have an
active set of early contributors/collaborators from Alibaba and other companies,
which we hope will increase the diversity going forward. Once again, a primary
motivation for the incubation is to facilitate this in the Apache way.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reliance-on-salaried-developers">Reliance on Salaried Developers<a href="#reliance-on-salaried-developers" class="hash-link" aria-label="Direct link to Reliance on Salaried Developers" title="Direct link to Reliance on Salaried Developers">​</a></h3>
<p>Both the current committers and early contributors have several years of core
expertise around designing trusted computing systems. Current committers are
very passionate about the project and have already invested hundreds of hours
towards helping and building the community. Thus, even with employer changes, we
expect they will be able to actively engage in the project either because they
will be working in similar areas even with newer employers or out of belief in
the project.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="relationships-with-other-apache-products">Relationships with Other Apache Products<a href="#relationships-with-other-apache-products" class="hash-link" aria-label="Direct link to Relationships with Other Apache Products" title="Direct link to Relationships with Other Apache Products">​</a></h3>
<p>To the best of our knowledge, there are no directly competing projects with
MesaTEE that offer all of the feature set - memory safety, secure computing,
multi-party computation, etc. However, some projects share similar goals, e.g.,
OpenWhisk which provides a serverless cloud platform. We are committed to open
collaboration with such Apache projects and incorporating changes to MesaTEE or
contributing patches to other projects, with the goal of making it easier for
the community at large, to adopt these open source technologies.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="excessive-fascination-with-the-apache-brand">Excessive Fascination with the Apache Brand<a href="#excessive-fascination-with-the-apache-brand" class="hash-link" aria-label="Direct link to Excessive Fascination with the Apache Brand" title="Direct link to Excessive Fascination with the Apache Brand">​</a></h3>
<p>The Apache Brand is very respected. We are very honored to have the opportunity
to join ASF, with the understanding that its brand policies shall be respected.
And we hope Apache can help us build the ecosystem around MesaTEE and attract
more developers.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="documentation">Documentation<a href="#documentation" class="hash-link" aria-label="Direct link to Documentation" title="Direct link to Documentation">​</a></h3>
<ul>
<li>Detailed documentation: <a href="https://github.com/mesalock-linux/mesatee" target="_blank" rel="noopener noreferrer">https://github.com/mesalock-linux/mesatee</a></li>
<li>MesaTEE SDK API documentation: <a href="https://mesatee.org/doc/mesatee_sdk/" target="_blank" rel="noopener noreferrer">https://mesatee.org/doc/mesatee_sdk/</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="initial-source">Initial Source<a href="#initial-source" class="hash-link" aria-label="Direct link to Initial Source" title="Direct link to Initial Source">​</a></h2>
<p>The codebase is currently hosted on Github:</p>
<ul>
<li><a href="https://github.com/mesalock-linux/mesatee" target="_blank" rel="noopener noreferrer">https://github.com/mesalock-linux/mesatee</a></li>
<li><a href="https://github.com/baidu/rust-sgx-sdk" target="_blank" rel="noopener noreferrer">https://github.com/baidu/rust-sgx-sdk</a></li>
</ul>
<p>During incubation, the codebase will be migrated to an Apache infrastructure.
The source code of MesaTEE is under Apache version 2.0 License, while Rust SGX
SDK is under BSD 3-Clauses License.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="source-and-intellectual-property-submission-plan">Source and Intellectual Property Submission Plan<a href="#source-and-intellectual-property-submission-plan" class="hash-link" aria-label="Direct link to Source and Intellectual Property Submission Plan" title="Direct link to Source and Intellectual Property Submission Plan">​</a></h2>
<p>We will work with the committers to get ICLAs signed. We will provide a Software
Grant Agreement from an authorized signer per
<a href="https://www.apache.org/licenses/software-grant-template.pdf" target="_blank" rel="noopener noreferrer">https://www.apache.org/licenses/software-grant-template.pdf</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="external-dependencies">External Dependencies<a href="#external-dependencies" class="hash-link" aria-label="Direct link to External Dependencies" title="Direct link to External Dependencies">​</a></h2>
<p>MesaTEE directly depends on these third-party Rust crates:</p>
<ul>
<li>adler32, 1.0.3, BSD-3-Clause</li>
<li>aho-corasick, 0.7.4, Unlicense/MIT</li>
<li>array_tool, 1.0.3, MIT</li>
<li>assert_matches, 1.3.0, MIT/Apache-2.0</li>
<li>autocfg, 0.1.4, Apache-2.0/MIT</li>
<li>base64, 0.10.1, MIT/Apache-2.0</li>
<li>bincode, 1.1.4, MIT</li>
<li>bit-vec, 0.6.1, MIT/Apache-2.0</li>
<li>bitflags, 1.1.0, MIT/Apache-2.0</li>
<li>byteorder, 1.3.2, MIT/Unlicense</li>
<li>bytes, 0.5.0, MIT</li>
<li>cc, 1.0.37, MIT/Apache-2.0</li>
<li>cfg-if, 0.1.9, MIT/Apache-2.0</li>
<li>chrono, 0.4.7, MIT/Apache-2.0</li>
<li>color_quant, 1.0.1, MIT</li>
<li>crc32fast, 1.2.0, MIT</li>
<li>ctor, 0.1.9, Apache-2.0</li>
<li>deflate, 0.7.20, MIT/Apache-2.0</li>
<li>either, 1.5.2, MIT/Apache-2.0</li>
<li>env_logger, 0.6.2, MIT/Apache-2.0</li>
<li>erased-serde, 0.3.9, MIT</li>
<li>fnv, 1.0.6, Apache-2.0</li>
<li>getrandom, 0.1.6, MIT</li>
<li>ghost, 0.1.0, MIT/Apache-2.0</li>
<li>gif, 0.10.2, MIT/Apache-2.0</li>
<li>gzip-header, 0.3.0, MIT/Apache-2.0</li>
<li>half, 1.3.0, MIT/Apache-2.0</li>
<li>hashbrown, 0.3.1, Apache-2.0/MIT</li>
<li>heapsize, 0.4.2, MIT/Apache-2.0</li>
<li>hex, 0.3.2, MIT</li>
<li>http, 0.1.17, MIT/Apache-2.0</li>
<li>httparse, 1.3.4, MIT/Apache-2.0</li>
<li>humantime, 1.2.0, MIT/Apache-2.0</li>
<li>image, 0.21.0, MIT</li>
<li>inflate, 0.4.5, MIT</li>
<li>inventory, 0.1.3, MIT</li>
<li>inventory-impl, 0.1.3, MIT</li>
<li>iovec, 0.2.0, MIT/Apache-2.0</li>
<li>itertools, 0.8.0, MIT/Apache-2.0</li>
<li>itoa, 0.4.4, MIT</li>
<li>jpeg-decoder, 0.1.15, MIT</li>
<li>lazy_static, 1.3.0, MIT/Apache-2.0</li>
<li>libc, 0.2.59, MIT</li>
<li>linked-hash-map, 0.5.2, MIT/Apache-2.0</li>
<li>log, 0.4.7, MIT</li>
<li>lzw, 0.10.0, MIT/Apache-2.0</li>
<li>matrixmultiply, 0.2.2, MIT/Apache-2.0</li>
<li>md5, 0.6.1, Apache-2.0/MIT</li>
<li>memchr, 2.2.1, Unlicense/MIT</li>
<li>memory_units, 0.3.0, MPL-2.0</li>
<li>net2, 0.2.33, MIT/Apache-2.0</li>
<li>num, 0.2.0, MIT/Apache-2.0</li>
<li>num-bigint, 0.2.2, MIT/Apache-2.0</li>
<li>num-complex, 0.2.3, MIT/Apache-2.0</li>
<li>num-integer, 0.1.41, MIT/Apache-2.0</li>
<li>num-iter, 0.1.39, MIT/Apache-2.0</li>
<li>num-rational, 0.2.2, MIT/Apache-2.0</li>
<li>num-traits, 0.2.8, MIT/Apache-2.0</li>
<li>parity-wasm, 0.31.3, MIT/Apache-2.0</li>
<li>png, 0.14.1, MIT/Apache-2.0</li>
<li>proc-macro2, 0.4.30, MIT/Apache-2.0</li>
<li>profiler_builtins, 0.1.0, profiler_builtins</li>
<li>quick-error, 1.2.2, MIT/Apache-2.0</li>
<li>quote, 0.3.15, MIT</li>
<li>quote, 0.6.13, MIT</li>
<li>rand, 0.6.5, MIT/Apache-2.0</li>
<li>rand_core, 0.4.0, MIT/Apache-2.0</li>
<li>rand_hc, 0.1.0, MIT/Apache-2.0</li>
<li>rand_pcg, 0.1.2, MIT/Apache-2.0</li>
<li>rawpointer, 0.1.0, MIT/Apache-2.0</li>
<li>regex, 1.1.9, MIT/Apache-2.0</li>
<li>regex-syntax, 0.6.8, MIT/Apache-2.0</li>
<li>ring, 0.14.6, ISC-style</li>
<li>rulinalg, 0.4.2, MIT</li>
<li>rustls, 0.15.2, Apache-2.0/ISC/MIT</li>
<li>rusty-machine, 0.5.4, MIT</li>
<li>ryu, 1.0.0, Apache-2.0</li>
<li>sct, 0.5.0, Apache-2.0/ISC/MIT</li>
<li>serde, 1.0.94, MIT</li>
<li>serde_cbor, 0.10.0, MIT/Apache-2.0</li>
<li>serde_derive, 1.0.94, MIT</li>
<li>serde_json, 1.0.40, MIT</li>
<li>sha1, 0.6.0, BSD-3-Clause</li>
<li>sha2, 0.8.0, sha2</li>
<li>spin, 0.5.0, MIT</li>
<li>syn, 0.11.11, MIT</li>
<li>syn, 0.15.39, MIT</li>
<li>synom, 0.11.3, MIT/Apache-2.0</li>
<li>termcolor, 1.0.5, Unlicense</li>
<li>thread_local, 0.3.6, Apache-2.0/MIT</li>
<li>tiff, 0.3.1, MIT</li>
<li>toml, 0.5.1, MIT/Apache-2.0</li>
<li>typetag, 0.1.3, MIT</li>
<li>typetag-impl, 0.1.3, MIT</li>
<li>ucd-util, 0.1.3, MIT/Apache-2.0</li>
<li>unicode-xid, 0.0.4, MIT/Apache-2.0</li>
<li>unicode-xid, 0.1.0, MIT/Apache-2.0</li>
<li>utf8-ranges, 1.0.3, Unlicense/MIT</li>
<li>uuid, 0.7.4, Apache-2.0</li>
<li>wabt, 0.6.0, Apache-2.0</li>
<li>wasmi, 0.5.0, MIT/Apache-2.0</li>
<li>wasmi-validation, 0.1.0, MIT/Apache-2.0</li>
<li>webpki, 0.19.1, ISC-style</li>
<li>webpki-roots, 0.16.0, MPL-2.0</li>
<li>winapi, 0.3.7, MIT/Apache-2.0</li>
<li>winapi-i686-pc-windows-gnu, 0.4.0, MIT/Apache-2.0</li>
<li>winapi-util, 0.1.2, Unlicense/MIT</li>
<li>winapi-x86_64-pc-windows-gnu, 0.4.0, MIT/Apache-2.0</li>
<li>wincolor, 1.0.1, Unlicense/MIT</li>
<li>yasna, 0.3.1, MIT/Apache-2.0</li>
</ul>
<p>Note that this is not an exhaustive dependency list and only direct
dependencies of MesaTEE&#x27;s trusted libs are included.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cryptography">Cryptography<a href="#cryptography" class="hash-link" aria-label="Direct link to Cryptography" title="Direct link to Cryptography">​</a></h3>
<p>MesaTEE uses following cryptographic libraries:</p>
<ul>
<li>ring (<a href="https://github.com/briansmith/ring" target="_blank" rel="noopener noreferrer">https://github.com/briansmith/ring</a>): a Rust crypto library based on BoringSSL</li>
<li>rustls: a Rust TLS library</li>
<li>sgx_tcrypto in Intel SGX SDK (<a href="https://software.intel.com/en-us/sgx/sdk" target="_blank" rel="noopener noreferrer">https://software.intel.com/en-us/sgx/sdk</a>)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="required-resources">Required Resources<a href="#required-resources" class="hash-link" aria-label="Direct link to Required Resources" title="Direct link to Required Resources">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mailing-lists">Mailing lists<a href="#mailing-lists" class="hash-link" aria-label="Direct link to Mailing lists" title="Direct link to Mailing lists">​</a></h3>
<ul>
<li><a href="mailto:private@mesatee.incubator.apache.org" target="_blank" rel="noopener noreferrer">private@mesatee.incubator.apache.org</a> (with moderated subscriptions)</li>
<li><a href="mailto:dev@mesatee.incubator.apache.org" target="_blank" rel="noopener noreferrer">dev@mesatee.incubator.apache.org</a></li>
<li><a href="mailto:commits@mesatee.incubator.apache.org" target="_blank" rel="noopener noreferrer">commits@mesatee.incubator.apache.org</a></li>
<li><a href="mailto:user@mesatee.incubator.apache.org" target="_blank" rel="noopener noreferrer">user@mesatee.incubator.apache.org</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-repositories">Git Repositories<a href="#git-repositories" class="hash-link" aria-label="Direct link to Git Repositories" title="Direct link to Git Repositories">​</a></h3>
<p>Upon entering incubation, we want to transfer the existing repos from
<a href="https://github.com/mesalock-linux/mesatee" target="_blank" rel="noopener noreferrer">https://github.com/mesalock-linux/mesatee</a> and
<a href="https://github.com/baidu/rust-sgx-sdk" target="_blank" rel="noopener noreferrer">https://github.com/baidu/rust-sgx-sdk</a> to Apache organization in GitHub like:</p>
<ul>
<li><a href="https://github.com/apache/incubator-mesatee" target="_blank" rel="noopener noreferrer">https://github.com/apache/incubator-mesatee</a></li>
<li><a href="https://github.com/apache/incubator-mesatee-rust-sgx-sdk" target="_blank" rel="noopener noreferrer">https://github.com/apache/incubator-mesatee-rust-sgx-sdk</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="issue-tracking">Issue Tracking<a href="#issue-tracking" class="hash-link" aria-label="Direct link to Issue Tracking" title="Direct link to Issue Tracking">​</a></h3>
<p>MesaTEE currently uses GitHub to track issues. Would like to continue doing so.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="continuous-integration-service">Continuous Integration Service<a href="#continuous-integration-service" class="hash-link" aria-label="Direct link to Continuous Integration Service" title="Direct link to Continuous Integration Service">​</a></h2>
<p>MesaTEE currently uses self-hosted continuous integration (CI) service which can
help developers to automatically test commits. The CI service involves several
nodes which support Intel SGX. We would like to continue doing so.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="initial-committers">Initial Committers<a href="#initial-committers" class="hash-link" aria-label="Direct link to Initial Committers" title="Direct link to Initial Committers">​</a></h2>
<p>The list is sorted alphabetically:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">* Mingshen Sun &lt;mssun at mesatee.org&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* Pei Wang &lt;wangpei at mesatee.org&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* Rundong Zhou &lt;rundongzhou at mesatee.org&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* Tao Wei &lt;lenx at mesatee.org&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* Tongxin Li &lt;litongxin at mesatee.org&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* Yiming Jing &lt;jingyiming at mesatee.org&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* Yu Ding &lt;d at mesatee.org&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* Yulong Zhang &lt;ylzhang at mesatee.org&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* Zhaofeng Chen &lt;zf at mesatee.org&gt;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sponsors">Sponsors<a href="#sponsors" class="hash-link" aria-label="Direct link to Sponsors" title="Direct link to Sponsors">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="champion">Champion<a href="#champion" class="hash-link" aria-label="Direct link to Champion" title="Direct link to Champion">​</a></h3>
<ul>
<li>Zhijie Shen <a href="mailto:zjshen@apache.org" target="_blank" rel="noopener noreferrer">zjshen@apache.org</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nominated-mentors">Nominated Mentors<a href="#nominated-mentors" class="hash-link" aria-label="Direct link to Nominated Mentors" title="Direct link to Nominated Mentors">​</a></h3>
<ul>
<li>Jianyong Dai <a href="mailto:daijy@apache.org" target="_blank" rel="noopener noreferrer">daijy@apache.org</a></li>
<li>Luciano Resende <a href="mailto:lresende@apache.org" target="_blank" rel="noopener noreferrer">lresende@apache.org</a></li>
<li>Matt Sicker</li>
<li>Furkan Kamaci</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sponsoring-entity">Sponsoring Entity<a href="#sponsoring-entity" class="hash-link" aria-label="Direct link to Sponsoring Entity" title="Direct link to Sponsoring Entity">​</a></h3>
<p>The Incubator PMC</p></div></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/page/3"><div class="pagination-nav__label">Newer entries</div></a></nav></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright"><div style="font-size:.7rem; text-align:left;">Apache Teaclave™ (incubating) is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF. Copyright © 2020 The Apache Software Foundation. Licensed under the Apache License, Version 2.0. Apache Teaclave™, Apache, the Apache feather, and the Apache Teaclave™ project logo are either trademarks or registered trademarks of the Apache Software Foundation.</div></div></div></div></footer></div>
</body>
</html>