"use strict";(self.webpackChunkapache_teaclave_incubating=self.webpackChunkapache_teaclave_incubating||[]).push([[3906],{761:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/project-powered-by-teaclave-logo-d39c68917c55b2424528f648aa334722.png"},1184:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>r});var s=i(4041);const t={},l=s.createContext(t);function c(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),s.createElement(l.Provider,{value:n},e.children)}},1705:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/optee-with-rust-doc-a8f3b6b7bbcddffa2a1803fc65387b18.png"},3731:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/teaclave-trustzone-sdk-links-in-homepage-79a052c9781f6bb626d6c8b8dfe13cf2.png"},4119:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>o});var s=i(8491),t=i(1085),l=i(1184);const c={title:"Teaclave Meetup #8",date:new Date("2021-10-14T00:00:00.000Z"),author:"Mingshen Sun",slug:void 0},r=void 0,a={authorsImageUrls:[void 0]},o=[{value:"Agenda",id:"agenda",level:2},{value:"Notes",id:"notes",level:2},{value:"Recent Update in Teaclave \u2014 Mingshen",id:"recent-update-in-teaclave--mingshen",level:3},{value:"Using and Customizing Teaclave SGX SDK \u2014 Shunfan Zhou",id:"using-and-customizing-teaclave-sgx-sdk--shunfan-zhou",level:3},{value:"Free Discussion",id:"free-discussion",level:3},{value:"Attendees",id:"attendees",level:2},{value:"Group Photo",id:"group-photo",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"agenda",children:"Agenda"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Recent update in Teaclave \u2014 Mingshen Sun"}),"\n",(0,t.jsx)(n.li,{children:"Using and Customizing Teaclave SGX SDK \u2014 Shunfan Zhou"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,t.jsx)(n.h3,{id:"recent-update-in-teaclave--mingshen",children:"Recent Update in Teaclave \u2014 Mingshen"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Platform"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"[docker] start Teaclave docker services with auto-detection mechanism (#559)."}),"\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.code,{children:"run-teaclave-service.sh"})," instead of using ",(0,t.jsx)(n.code,{children:"docker-compose"})," directly."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"SGX SDK"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["v1.1.4-testing: ",(0,t.jsx)(n.a,{href:"https://github.com/apache/incubator-teaclave-sgx-sdk/commits/v1.1.4-testing",children:"https://github.com/apache/incubator-teaclave-sgx-sdk/commits/v1.1.4-testing"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Rust ",(0,t.jsx)(n.code,{children:"nightly-2021-09-13"})]}),"\n",(0,t.jsx)(n.li,{children:"Support Intel SGX SDK 2.15 and DCAP 1.12"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Project template refactoring"}),"\n",(0,t.jsx)(n.li,{children:"README polishing"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"TrustZone SDK"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Teaclave/OP-TEE: Integrating examples in Rust TrustZone SDK in OP-TEE\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Multiple PRs to OP-TEE's ",(0,t.jsx)(n.code,{children:"manifest"}),", ",(0,t.jsx)(n.code,{children:"build"})," repos."]}),"\n",(0,t.jsxs)(n.li,{children:["Now in the ",(0,t.jsx)(n.code,{children:"master"})," branch, should be available in the next release 3.15 in Oct 15."]}),"\n",(0,t.jsxs)(n.li,{children:["OP-TEE with Rust: ",(0,t.jsx)(n.a,{href:"https://optee.readthedocs.io/en/latest/building/optee_with_rust.html",children:"https://optee.readthedocs.io/en/latest/building/optee_with_rust.html"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"OP-TEE with Rust",src:i(1705).A+"",width:"2234",height:"1160"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Website"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:['Add project/organization logos in the "Powered By" page: ',(0,t.jsx)(n.a,{href:"https://teaclave.apache.org/powered-by/",children:"https://teaclave.apache.org/powered-by/"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Project Powered By Teaclave",src:i(761).A+"",width:"2738",height:"854"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:['Redesign the "Contributors" page\n',(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"add Apache ID, GitHub ID to mentors, PPMC, and committers"}),"\n",(0,t.jsx)(n.li,{children:"Tags for committers to show areas that they are familiar with"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Add API Docs (references) of TrustZone SDK both for host and TA sides\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Host: ",(0,t.jsx)(n.a,{href:"https://teaclave.apache.org/api-docs/trustzone-sdk/optee-teec",children:"https://teaclave.apache.org/api-docs/trustzone-sdk/optee-teec"})]}),"\n",(0,t.jsxs)(n.li,{children:["TA: ",(0,t.jsx)(n.a,{href:"https://teaclave.apache.org/api-docs/trustzone-sdk/optee-utee",children:"https://teaclave.apache.org/api-docs/trustzone-sdk/optee-utee"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Teaclave TrustZone SDK Links in Homepage",src:i(3731).A+"",width:"2538",height:"752"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Blog\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://teaclave.apache.org/blog/2021-10-06-podling-teaclave-report-october-2021/",children:"Podling Teaclave Report - October 2021"}),"\xa0\xb7 Oct 05 2021"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://teaclave.apache.org/blog/2021-10-01-announcing-teaclave-0-3-0/",children:"Announcing Apache Teaclave (incubating) 0.3.0"}),"\xa0\xb7 Sep 30 2021"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Community"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"New committers: Yuan Zhuang and Rong Fan from Baidu"}),"\n",(0,t.jsxs)(n.li,{children:["Discord: Connect directly with Teaclave community members (join link: ",(0,t.jsx)(n.a,{href:"https://discord.gg/ynECXsxm5P",children:"https://discord.gg/ynECXsxm5P"}),")"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Security"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"SmashEx: Smashing SGX Enclaves Using Exceptions"})," (to appear at CCS 2021):\nJinhua Cui (National University of Defense Technology, National University of\nSingapore); Zhijingcheng Yu (National University of Singapore); Shweta Shinde\n(ETH Zurich); Prateek Saxena (National University of Singapore); Zhiping Cai\n(National University of Defense Technology)"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://arxiv.org/ftp/arxiv/papers/2110/2110.06657.pdf",children:"https://arxiv.org/ftp/arxiv/papers/2110/2110.06657.pdf"})}),"\n",(0,t.jsxs)(n.li,{children:["CVE-2021-0186\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.intel.com/content/www/us/en/security-center/advisory/intel-sa-00548.html",children:"https://www.intel.com/content/www/us/en/security-center/advisory/intel-sa-00548.html"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Description"}),": Improper input validation in the Intel(R) SGX SDK\napplications compiled for SGX2 enabled processors may allow a privileged\nuser to potentially escalation of privilege via local access."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Affected Products"}),": Intel SGX SDK for Windows v2.12 and earlier, Intel\nSGX SDK for Linux v2.13 and earlier, Intel\xae Processors supporting SGX2."]}),"\n",(0,t.jsx)(n.li,{children:"Intel recommends updating the Intel\xae SGX SDK to the versions listed below.\nEnclaves built with the new Intel\xae SGX SDK version should increment the\nvalue of their ISVSVN field."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Patch: ",(0,t.jsx)(n.a,{href:"https://github.com/intel/linux-sgx/commit/edfe42a517b3e4b1d81204c3cdef6da6cb35fefc",children:"https://github.com/intel/linux-sgx/commit/edfe42a517b3e4b1d81204c3cdef6da6cb35fefc"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Patch in Intel SGX SDK",src:i(5701).A+"",width:"2388",height:"1520"})}),"\n",(0,t.jsx)(n.h3,{id:"using-and-customizing-teaclave-sgx-sdk--shunfan-zhou",children:"Using and Customizing Teaclave SGX SDK \u2014 Shunfan Zhou"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Teaclave SGX SDK\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"pro: security"}),"\n",(0,t.jsx)(n.li,{children:"con: testing is hard"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Case study: rust-bitcoin\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"std"}),"\n",(0,t.jsx)(n.li,{children:"Feature"}),"\n",(0,t.jsx)(n.li,{children:"Port dependencies recursively"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Some issues\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"efforts of porting"}),"\n",(0,t.jsx)(n.li,{children:"security: 1) updates of upstream, 2) unit tests"}),"\n",(0,t.jsx)(n.li,{children:"More TEE backend: AMD SEV, ARM CCA"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"libs is not completed in SGX for vanilla Rust standard library"}),"\n",(0,t.jsxs)(n.li,{children:["Phala libc-hacks\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"directly use Intel's libc"}),"\n",(0,t.jsx)(n.li,{children:"use ocall warpper functions"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Conflicts: multiple language items in Rust"}),"\n",(0,t.jsx)(n.li,{children:"Runtime behavior checks"}),"\n",(0,t.jsxs)(n.li,{children:["HW mode issue: ",(0,t.jsx)(n.code,{children:"rand::thread_rnd()"})," is using CPUID, which is not allowed in SGX"]}),"\n",(0,t.jsx)(n.li,{children:"Check instructions after compiling"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"free-discussion",children:"Free Discussion"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["About AMD SEV in Azure: ",(0,t.jsx)(n.a,{href:"https://azure.microsoft.com/en-us/blog/azure-and-amd-enable-lift-and-shift-confidential-computing/",children:"https://azure.microsoft.com/en-us/blog/azure-and-amd-enable-lift-and-shift-confidential-computing/"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"attendees",children:"Attendees"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Mingshen Sun"}),"\n",(0,t.jsx)(n.li,{children:"Qinkun Bao"}),"\n",(0,t.jsx)(n.li,{children:"He Sun"}),"\n",(0,t.jsx)(n.li,{children:"George"}),"\n",(0,t.jsx)(n.li,{children:"Hongbo Chen"}),"\n",(0,t.jsx)(n.li,{children:"hang"}),"\n",(0,t.jsx)(n.li,{children:"Kevin"}),"\n",(0,t.jsx)(n.li,{children:"Ben"}),"\n",(0,t.jsx)(n.li,{children:"Ruide"}),"\n",(0,t.jsx)(n.li,{children:"Rudong Zhou"}),"\n",(0,t.jsx)(n.li,{children:"shelven"}),"\n",(0,t.jsx)(n.li,{children:"Tongxin Li"}),"\n",(0,t.jsx)(n.li,{children:"Weijie Liu"}),"\n",(0,t.jsx)(n.li,{children:"Zha0Chan"}),"\n",(0,t.jsx)(n.li,{children:"Tianyi Li"}),"\n",(0,t.jsx)(n.li,{children:"DuanRan"}),"\n",(0,t.jsx)(n.li,{children:"Gordon"}),"\n",(0,t.jsx)(n.li,{children:"david"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"group-photo",children:"Group Photo"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Group Photo",src:i(8550).A+"",width:"3808",height:"2414"})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},5701:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/cve-2021-0186-patch-faa6b7d42812c2cb5f40541f41158001.png"},8491:e=>{e.exports=JSON.parse('{"permalink":"/blog/2021/10/14/teaclave-meetup-8","source":"@site/blog/2021-10-14-teaclave-meetup-8.md","title":"Teaclave Meetup #8","description":"Agenda","date":"2021-10-14T00:00:00.000Z","tags":[],"hasTruncateMarker":false,"authors":[{"name":"Mingshen Sun","key":null,"page":null}],"frontMatter":{"title":"Teaclave Meetup #8","date":"2021-10-14T00:00:00.000Z","author":"Mingshen Sun"},"unlisted":false,"prevItem":{"title":"\u4f7f\u7528 Teaclave TrustZone SDK \u5f00\u53d1 TrustZone \u5e94\u7528","permalink":"/blog/2021/10/15/developing-teaclave-application-with-teaclave-trustzone-sdk"},"nextItem":{"title":"Podling Teaclave Report - October 2021","permalink":"/blog/2021/10/06/podling-teaclave-report-october-2021"}}')},8550:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/teaclave-meetup-8-zoom-2474b7cbe44239ceb31b2100c02ea448.png"}}]);