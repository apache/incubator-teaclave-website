"use strict";(self.webpackChunkapache_teaclave_incubating=self.webpackChunkapache_teaclave_incubating||[]).push([[1156],{4754:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"community/release-guide","title":"Release Guide","description":"For the release manager, the primary goal of a release is to upload the release","source":"@site/docs/community/release-guide.md","sourceDirName":"community","slug":"/release-guide","permalink":"/release-guide","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"permalink":"/release-guide","slug":"/release-guide"},"sidebar":"community_sidebar","previous":{"title":"Maturity Assessment","permalink":"/maturity"}}');var a=s(4848),r=s(8453);const i={permalink:"/release-guide",slug:"/release-guide"},l="Release Guide",c={},o=[{value:"For New Release Managers",id:"for-new-release-managers",level:2},{value:"0. Become a member of the Apache Teaclave\u2122 (incubating) community",id:"0-become-a-member-of-the-apache-teaclave-incubating-community",level:3},{value:"1. Prepare the GPG Signing Key",id:"1-prepare-the-gpg-signing-key",level:3},{value:"2. Optional: Request Other Permissions",id:"2-optional-request-other-permissions",level:3},{value:"Release Stages",id:"release-stages",level:2},{value:"Timeline of release stages",id:"timeline-of-release-stages",level:3},{value:"Stage-by-Stage Operations Guide",id:"stage-by-stage-operations-guide",level:2},{value:"1. Prepare the release",id:"1-prepare-the-release",level:3},{value:"2. Pre-release on GitHub",id:"2-pre-release-on-github",level:3},{value:"2.1 Draft the release notes",id:"21-draft-the-release-notes",level:4},{value:"2.2 Create the pre-release",id:"22-create-the-pre-release",level:4},{value:"3. Voting",id:"3-voting",level:3},{value:"3.1 Test building from source",id:"31-test-building-from-source",level:4},{value:"3.2 Prepare artifacts for voting",id:"32-prepare-artifacts-for-voting",level:4},{value:"3.2 Start voting process",id:"32-start-voting-process",level:4},{value:"4. Post-release",id:"4-post-release",level:3},{value:"4.1 Upload the Final Release Artifacts to SVN",id:"41-upload-the-final-release-artifacts-to-svn",level:4},{value:"4.2 Final release on Github",id:"42-final-release-on-github",level:4},{value:"4.3 Optional: Other Publishing (e.g., on crates.io)",id:"43-optional-other-publishing-eg-on-cratesio",level:4},{value:"4.4 Post the announcement",id:"44-post-the-announcement",level:4},{value:"5. Other considerations",id:"5-other-considerations",level:2},{value:"5.1 About branch cut and feature freeze",id:"51-about-branch-cut-and-feature-freeze",level:3}];function h(e){const n={a:"a",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"release-guide",children:"Release Guide"})}),"\n",(0,a.jsxs)(n.p,{children:["For the release manager, the primary goal of a release is to upload the release\nartifacts to the\n",(0,a.jsx)(n.a,{href:"https://dist.apache.org/repos/dist/release/incubator/teaclave/",children:"Apache Distribution SVN"}),"\nrepositories. The artifacts must be ",(0,a.jsx)(n.strong,{children:"signed by the release manager"})," and\n",(0,a.jsx)(n.strong,{children:"approved through two stages of community votes"}),". This documentation outlines\nthe complete workflow and necessary operations to achieve that goal."]}),"\n",(0,a.jsx)(n.h2,{id:"for-new-release-managers",children:"For New Release Managers"}),"\n",(0,a.jsx)(n.h3,{id:"0-become-a-member-of-the-apache-teaclave-incubating-community",children:"0. Become a member of the Apache Teaclave\u2122 (incubating) community"}),"\n",(0,a.jsx)(n.p,{children:"The release manager must be a member of the Apache Teaclave\u2122 project. This\nensures they have the necessary permissions, including access to the Apache\nemail system, SVN, GitHub write access, and other required infrastructure."}),"\n",(0,a.jsxs)(n.p,{children:["If you\u2019re interested in this, please feel free to send email to\n",(0,a.jsx)(n.code,{children:"dev@teaclave.apache.org"})," or contact any other member in Teaclave. We appreciate\nall contributions!"]}),"\n",(0,a.jsx)(n.h3,{id:"1-prepare-the-gpg-signing-key",children:"1. Prepare the GPG Signing Key"}),"\n",(0,a.jsx)(n.p,{children:"The GPG key is used to sign the release artifacts. The public key is uploaded so\nothers can verify the release signatures."}),"\n",(0,a.jsxs)(n.p,{children:["GPG signing key should be added to the Apache release dist sever\n(",(0,a.jsx)(n.a,{href:"https://dist.apache.org/repos/dist/release/incubator/teaclave/KEYS",children:"https://dist.apache.org/repos/dist/release/incubator/teaclave/KEYS"}),") which is\nautomatically synced to\n(<",(0,a.jsx)(n.a,{href:"https://downloads.apache.org/incubator/teaclave/KEYS",children:"https://downloads.apache.org/incubator/teaclave/KEYS"})," >)"]}),"\n",(0,a.jsx)(n.p,{children:"Please follow this instruction to generate and upload keys:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"1.1. Generate an RSA4096 code signing key"})}),"\n",(0,a.jsxs)(n.p,{children:["Please refer to ",(0,a.jsx)(n.a,{href:"https://infra.apache.org/openpgp.html#key-gen-generate-key",children:"https://infra.apache.org/openpgp.html#key-gen-generate-key"})," for\ngeneration guide. For safe practice of using the GPG key, please refer to:\n",(0,a.jsx)(n.a,{href:"https://infra.apache.org/release-signing.html#safe-practice",children:"https://infra.apache.org/release-signing.html#safe-practice"}),"."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"1.2. Append your public key to the KEYS file"})}),"\n",(0,a.jsx)(n.p,{children:"Steps:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'$ SVN_RELEASE="https://dist.apache.org/repos/dist/release/incubator/teaclave"\n$ svn co --depth=files "$SVN_RELEASE" svn-release-teaclave\n# edit the svn-release-teaclave/KEYS file\n# upload:\n$ svn ci --username "$ASF_USERNAME" --password "$ASF_PASSWORD" -m "Update KEYS"\n'})}),"\n",(0,a.jsx)(n.h3,{id:"2-optional-request-other-permissions",children:"2. Optional: Request Other Permissions"}),"\n",(0,a.jsx)(n.p,{children:"Additional permissions may be needed depending on the repository. Contact the\nproject maintainers for specific access requirements."}),"\n",(0,a.jsx)(n.h2,{id:"release-stages",children:"Release Stages"}),"\n",(0,a.jsx)(n.h3,{id:"timeline-of-release-stages",children:"Timeline of release stages"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Prepare the release"})," (Week 1)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Pre-release on GitHub"})," (Week 2)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Voting"})," (Week 3\u20134)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Post-release"})," (within one week after all votes pass)"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"stage-by-stage-operations-guide",children:"Stage-by-Stage Operations Guide"}),"\n",(0,a.jsx)(n.h3,{id:"1-prepare-the-release",children:"1. Prepare the release"}),"\n",(0,a.jsx)(n.p,{children:"During this phase:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Optional: Bump the dependencies version. e.g. for trustzone-sdk: bump OP-TEE\nversion to the latest (including build scripts and test image)"}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Review and follow the\n",(0,a.jsx)(n.a,{href:"https://cwiki.apache.org/confluence/display/INCUBATOR/Incubator+Release+Checklist",children:"Apache Incubator Release Checklist"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"By default, no additional work is needed if you follow our release guide.\nHowever, please double-check the checklist in the following cases:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"For the first release of a new year, ensure the year in the NOTICE file is\nupdated to: 2019\u2013[Current Year]."}),"\n",(0,a.jsx)(n.li,{children:"If there are any changes to DISCLAIMER, NOTICE, or LICENSE files, make sure\nthey comply with the items in the checklist."}),"\n",(0,a.jsxs)(n.li,{children:["If any new examples include third-party code, refer to how this is handled\nin ",(0,a.jsx)(n.a,{href:"https://github.com/apache/incubator-teaclave-trustzone-sdk/issues/196",children:"https://github.com/apache/incubator-teaclave-trustzone-sdk/issues/196"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"2-pre-release-on-github",children:"2. Pre-release on GitHub"}),"\n",(0,a.jsx)(n.p,{children:"Once all items in Stage 1 are completed, it's time to publish the release\ncandidate."}),"\n",(0,a.jsx)(n.h4,{id:"21-draft-the-release-notes",children:"2.1 Draft the release notes"}),"\n",(0,a.jsx)(n.p,{children:"You can manually draft the release notes or use tools to generate them\nautomatically. For example, on the GitHub Releases page, you can select the\nprevious release tag and click \u201cGenerate Release Notes\u201d to create a basic draft."}),"\n",(0,a.jsx)(n.p,{children:"Alternatively, you can use a GitHub Action to produce more detailed and\nstructured release notes."}),"\n",(0,a.jsxs)(n.p,{children:["For trustzone-sdk, we already have a GitHub Action set up for this purpose,\nplease refer to the\n",(0,a.jsx)(n.a,{href:"https://github.com/apache/incubator-teaclave-trustzone-sdk/tree/main/docs/release-tips.md",children:"Release Tips"}),"\nin the trustzone sdk repository for more details."]}),"\n",(0,a.jsx)(n.h4,{id:"22-create-the-pre-release",children:"2.2 Create the pre-release"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Choose a tag: create a tag from current main, e.g. 0.5.0-rc.1"}),"\n",(0,a.jsx)(n.li,{children:"Fill in the release notes."}),"\n",(0,a.jsx)(n.li,{children:'Select "This is a pre-release".'}),"\n",(0,a.jsx)(n.li,{children:'Click "Publish release".'}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Once successful, the release page will appear with the release notes and two\nassets: ",(0,a.jsx)(n.strong,{children:"Source code (zip)"})," and ",(0,a.jsx)(n.strong,{children:"Source code (tar.gz)"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"3-voting",children:"3. Voting"}),"\n",(0,a.jsx)(n.p,{children:"After the pre-release on GitHub, you can start the voting process. To prepare\nthe voting email, we need to test building from source and prepare the\nartifacts."}),"\n",(0,a.jsx)(n.h4,{id:"31-test-building-from-source",children:"3.1 Test building from source"}),"\n",(0,a.jsx)(n.p,{children:"Typically, we provide a Docker command to test the build in the voting email,\nbut the command varies between repositories. For example, in the case of\ntrustzone-sdk:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'$ docker run --rm -it -v$(pwd):/teaclave-trustzone-sdk -w \\\n/teaclave-trustzone-sdk yuanz0/teaclave-trustzone-sdk:ubuntu-24.04 \\\nbash -c "./setup.sh && (./build_optee_libraries.sh optee) && source \\\nenvironment && make && (cd ci && ./ci.sh)"\n'})}),"\n",(0,a.jsx)(n.p,{children:"The check process is as follows:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'$ TAG=0.5.0-rc.1\n## download tar\n$ wget https://github.com/apache/incubator-teaclave-trustzone-sdk/archive/refs/tags/v0.5.0-rc.1.tar.gz\n$ tar xzvf 0.5.0-rc.1.tar.gz\n$ cd incubator-teaclave-trustzone-sdk-0.5.0.rc.1\n$ docker run --rm -it -v$(pwd):/teaclave-trustzone-sdk -w \\\n/teaclave-trustzone-sdk yuanz0/teaclave-trustzone-sdk:ubuntu-24.04 \\\nbash -c "./setup.sh && (./build_optee_libraries.sh optee) && source \\\nenvironment && make && (cd ci && ./ci.sh)"\n'})}),"\n",(0,a.jsx)(n.p,{children:"You can adjust this based on the repository you're working on."}),"\n",(0,a.jsx)(n.h4,{id:"32-prepare-artifacts-for-voting",children:"3.2 Prepare artifacts for voting"}),"\n",(0,a.jsxs)(n.p,{children:["We provide a script\n",(0,a.jsx)(n.a,{href:"https://github.com/apache/incubator-teaclave-trustzone-sdk/tree/main/scripts/release/make_release_artifacts.sh",children:(0,a.jsx)(n.code,{children:"make_release_artifacts.sh"})}),"\nto pack the artifacts, sign and upload to SVN. It has been tested with\ntrustzone-sdk, and we believe it should work for other repositories as well.\nFeel free to test it with other teaclave repositories, and open a PR if you\nencounter any compatibility issues."]}),"\n",(0,a.jsx)(n.p,{children:"Be sure to update the variables in the script to set the release version and use\nyour ASF username/password and GPG key id."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"## Get the key id of your signing key\ngpg --list-secret-keys\nGPG_KEY_UID=????\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Download source tarball from Github, sign, and verify release artifacts\n./make_release_artifacts.sh prepare\n\n# Verify existing artifacts and upload to Apache dist/dev SVN\n./make_release_artifacts.sh upload\n"})}),"\n",(0,a.jsx)(n.h4,{id:"32-start-voting-process",children:"3.2 Start voting process"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Voting Process"})}),"\n",(0,a.jsx)(n.p,{children:"Two votes are required:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["First, vote on the Apache Teaclave\u2122 developers mailing list\n(",(0,a.jsx)(n.code,{children:"dev@teaclave.apache.org"}),")."]}),"\n",(0,a.jsxs)(n.li,{children:["After it passes, call the second vote on the Apache Incubator general mailing\nlist (",(0,a.jsx)(n.code,{children:"general@incubator.apache.org"}),")."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Each vote requires ",(0,a.jsx)(n.strong,{children:"two email threads"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"[VOTE]"})," \u2013 to initiate the vote"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"[RESULT][VOTE]"})," \u2013 to announce the result"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["For example, if ",(0,a.jsx)(n.code,{children:"rc1"})," is successfully released, you should send a total of\n",(0,a.jsx)(n.strong,{children:"four emails"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Two for the ",(0,a.jsx)(n.strong,{children:"community vote"})]}),"\n",(0,a.jsxs)(n.li,{children:["Two for the ",(0,a.jsx)(n.strong,{children:"IPMC vote"})]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["If additional release candidates (e.g., ",(0,a.jsx)(n.code,{children:"rc2"}),", ",(0,a.jsx)(n.code,{children:"rc3"}),", etc.) are needed, you\u2019ll\nneed to repeat the voting process and send additional vote/result emails\naccordingly."]}),"\n",(0,a.jsx)(n.p,{children:"Here are some important details:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Each vote needs at least 3 ",(0,a.jsx)(n.em,{children:"binding"})," +1 votes and more +1 votes than -1 votes\nto pass."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.em,{children:"Binding"})," votes mean:\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["On ",(0,a.jsx)(n.code,{children:"dev@teaclave.apache.org"}),", votes from PPMC members"]}),"\n",(0,a.jsxs)(n.li,{children:["On ",(0,a.jsx)(n.code,{children:"general@incubator.apache.org"}),", votes from IPMC members"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.li,{children:"Votes must stay open for at least 72 hours (3 days). If there aren\u2019t enough\nbinding votes by then, extend the voting period."}),"\n",(0,a.jsx)(n.li,{children:"If a vote fails, update the release accordingly, create a new release\ncandidate, and restart the voting process."}),"\n",(0,a.jsx)(n.li,{children:"If the vote does not receive enough responses within 3 days, follow up by\nrequesting votes\u2014send a reminder email to the project's mentor. You can find\nthe mentors\u2019 email on our website."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Voting Email"})}),"\n",(0,a.jsxs)(n.p,{children:["For ",(0,a.jsx)(n.code,{children:"trustzone-sdk"}),", we provide an email template in\n",(0,a.jsx)(n.a,{href:"https://github.com/apache/incubator-teaclave-trustzone-sdk/tree/main/docs/release-tips.md",children:"Release Tips"}),"\n, which follows a structure commonly used across all Teaclave repositories. You\ncan refer to this template or look at past email examples for guidance."]}),"\n",(0,a.jsx)(n.p,{children:"If you create a corresponding template for another Teaclave repository, we\u2019d\ngreatly appreciate it \u2014 feel free to open a PR to contribute it."}),"\n",(0,a.jsx)(n.p,{children:"Here are some examples:"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Vote / Result in the dev@teaclave list"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"subject: [VOTE] Release Apache Teaclave TrustZone SDK (incubating) v0.4.0-rc.2"}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["to: ",(0,a.jsx)(n.a,{href:"mailto:dev@teaclave.apache.org",children:"dev@teaclave.apache.org"})]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["link: ",(0,a.jsx)(n.a,{href:"https://lists.apache.org/thread/o60wpscnq8mp6lhbd8h654ybxd6wzhk7",children:"https://lists.apache.org/thread/o60wpscnq8mp6lhbd8h654ybxd6wzhk7"})]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"subject: [RESULT][VOTE] Release Apache Teaclave TrustZone SDK (incubating)\nv0.4.0-rc.2"}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["to: ",(0,a.jsx)(n.a,{href:"mailto:dev@teaclave.apache.org",children:"dev@teaclave.apache.org"})]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["link: ",(0,a.jsx)(n.a,{href:"https://lists.apache.org/thread/oo2r4xh731bqbn9b0659jjl7f4cym9g6",children:"https://lists.apache.org/thread/oo2r4xh731bqbn9b0659jjl7f4cym9g6"})]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Vote / Result in the general@incubator list"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"subject: [VOTE] Release Apache Teaclave TrustZone SDK (incubating) v0.4.0-rc.2"}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["to: ",(0,a.jsx)(n.a,{href:"mailto:general@incubator.apache.org",children:"general@incubator.apache.org"})]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["link: ",(0,a.jsx)(n.a,{href:"https://lists.apache.org/thread/8mstnqpoo0hy1sy8f96dyrkyrmcdwz2z",children:"https://lists.apache.org/thread/8mstnqpoo0hy1sy8f96dyrkyrmcdwz2z"})]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"subject: [RESULT][VOTE] Release Apache Teaclave TrustZone SDK (incubating)\nv0.4.0-rc.2"}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["to: ",(0,a.jsx)(n.a,{href:"mailto:general@incubator.apache.org",children:"general@incubator.apache.org"})]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["link: ",(0,a.jsx)(n.a,{href:"https://lists.apache.org/thread/y2m99kt8tbpkp4fs9pw4kxvwc4pvx2so",children:"https://lists.apache.org/thread/y2m99kt8tbpkp4fs9pw4kxvwc4pvx2so"})]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"4-post-release",children:"4. Post-release"}),"\n",(0,a.jsx)(n.p,{children:"Once the vote in the Incubator passes, the final step is to complete the\nrelease."}),"\n",(0,a.jsx)(n.h4,{id:"41-upload-the-final-release-artifacts-to-svn",children:"4.1 Upload the Final Release Artifacts to SVN"}),"\n",(0,a.jsx)(n.p,{children:"At this stage, you should:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Move the release candidate (RC) artifacts to the final directory in ",(0,a.jsx)(n.code,{children:"dev"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Delete all RC artifacts from the ",(0,a.jsx)(n.code,{children:"dev"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Upload the finalized artifacts to the ",(0,a.jsx)(n.code,{children:"release"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["For example, if the release version is ",(0,a.jsx)(n.code,{children:"0.4.0"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsxs)(n.strong,{children:["In ",(0,a.jsx)(n.code,{children:"dev"})]}),": Ensure the final directory with artifacts exists at:\n",(0,a.jsx)(n.a,{href:"https://dist.apache.org/repos/dist/dev/incubator/teaclave/trustzone-sdk-0.4.0/",children:"https://dist.apache.org/repos/dist/dev/incubator/teaclave/trustzone-sdk-0.4.0/"}),"\nAlso, delete all previous ",(0,a.jsx)(n.code,{children:"0.4.0-rc"})," artifacts."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsxs)(n.strong,{children:["In ",(0,a.jsx)(n.code,{children:"release"})]}),": Copy the finalized artifacts from ",(0,a.jsx)(n.code,{children:"dev"})," to:\n",(0,a.jsx)(n.a,{href:"https://dist.apache.org/repos/dist/release/incubator/teaclave/trustzone-sdk-0.4.0/",children:"https://dist.apache.org/repos/dist/release/incubator/teaclave/trustzone-sdk-0.4.0/"})]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["You can refer to the script\n",(0,a.jsx)(n.a,{href:"https://github.com/apache/incubator-teaclave-trustzone-sdk/tree/main/scripts/release/make_release_artifacts.sh",children:(0,a.jsx)(n.code,{children:"make_release_artifacts.sh"})}),"\nto perform these operations:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./make_release_artifacts.sh finalize\n"})}),"\n",(0,a.jsx)(n.h4,{id:"42-final-release-on-github",children:"4.2 Final release on Github"}),"\n",(0,a.jsx)(n.p,{children:"Add the tag for 0.[X].0"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"git tag v0.[X].0\ngit push origin v0.[X].0\n"})}),"\n",(0,a.jsx)(n.p,{children:"On the release edit page, use the tag \u201c0.[X].0\u201d, unmark \u201cSet as a pre-release\u201d,\nand submit."}),"\n",(0,a.jsx)(n.h4,{id:"43-optional-other-publishing-eg-on-cratesio",children:"4.3 Optional: Other Publishing (e.g., on crates.io)"}),"\n",(0,a.jsxs)(n.p,{children:["Repository-specific publishing may be required. For example, for trustzone-sdk,\npublishing to crates.io is needed. Refer to the TrustZone documentation\n",(0,a.jsx)(n.a,{href:"https://github.com/apache/incubator-teaclave-trustzone-sdk/tree/main/docs/release-tips.md",children:"Release Tips"}),"\nfor details."]}),"\n",(0,a.jsx)(n.h4,{id:"44-post-the-announcement",children:"4.4 Post the announcement"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"4.4.1 to the Apache mailing list"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Mailing list example"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"subject: [ANNOUNCE] Apache Teaclave TrustZone SDK (incubating) 0.4.0 Released"}),"\n",(0,a.jsxs)(n.li,{children:["to: ",(0,a.jsx)(n.a,{href:"mailto:announce@apache.org",children:"announce@apache.org"}),", ",(0,a.jsx)(n.a,{href:"mailto:dev@teaclave.apache.org",children:"dev@teaclave.apache.org"})]}),"\n",(0,a.jsxs)(n.li,{children:["link: ",(0,a.jsx)(n.a,{href:"https://lists.apache.org/thread/7zn019gsmd65xsbgw2tbv2c3jdvc44hb",children:"https://lists.apache.org/thread/7zn019gsmd65xsbgw2tbv2c3jdvc44hb"})]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"4.4.2 to Teaclave website"})}),"\n",(0,a.jsxs)(n.p,{children:["The website src is in: ",(0,a.jsx)(n.a,{href:"https://github.com/apache/incubator-teaclave-website",children:"https://github.com/apache/incubator-teaclave-website"}),",\nopen a PR to update."]}),"\n",(0,a.jsxs)(n.p,{children:["Add an announcement in ",(0,a.jsx)(n.a,{href:"https://teaclave.incubator.apache.org/blog/",children:"https://teaclave.incubator.apache.org/blog/"})," and update\nthe download page: ",(0,a.jsx)(n.a,{href:"https://teaclave.incubator.apache.org/download/",children:"https://teaclave.incubator.apache.org/download/"})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Blog example"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"title: Announcing Apache Teaclave (incubating) 0.3.0"}),"\n",(0,a.jsxs)(n.li,{children:["link: ",(0,a.jsx)(n.a,{href:"https://teaclave.apache.org/blog/2021-10-01-announcing-teaclave-0-3-0/",children:"https://teaclave.apache.org/blog/2021-10-01-announcing-teaclave-0-3-0/"})]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Update Download Page Example"}),":"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://github.com/apache/incubator-teaclave-website/commit/94d33df6c1540d0490a0728d0fd0be67915f1ca9",children:"https://github.com/apache/incubator-teaclave-website/commit/94d33df6c1540d0490a0728d0fd0be67915f1ca9"})}),"\n",(0,a.jsx)(n.p,{children:"After completing the steps above, the release process is finished."}),"\n",(0,a.jsx)(n.h2,{id:"5-other-considerations",children:"5. Other considerations"}),"\n",(0,a.jsx)(n.h3,{id:"51-about-branch-cut-and-feature-freeze",children:"5.1 About branch cut and feature freeze"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"After tag the release, new feature development is frozen for the release, but\nthe main(dev) branch remains active for ongoing development."}),"\n",(0,a.jsxs)(n.li,{children:["If there\u2019re bug fixes for this release, cut the release branch from the tag,\ne.g. ",(0,a.jsx)(n.code,{children:"release-v0.5.0"}),". In the release branch, you can cherry-pick important\nbug fixes from main as needed. All changes should be committed to main first,\nand then optionally cherry-picked into the release branch. For example, if rc1\nrequires changes based on voting feedback (e.g. feedback-fix-1): Suppose the\n",(0,a.jsx)(n.code,{children:"main"})," branch already has the following commits: ",(0,a.jsx)(n.code,{children:"MAIN: feature (commit1)"})," \u2192\n",(0,a.jsx)(n.code,{children:"fix (commit2)"})," \u2192 ",(0,a.jsx)(n.code,{children:"feature (commit3)"}),". Assume the release branch was cut at\n",(0,a.jsx)(n.code,{children:"commit1"}),", so currently it only contains: ",(0,a.jsx)(n.code,{children:"RELEASE: feature (commit1)"}),".\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["First, apply ",(0,a.jsx)(n.code,{children:"feedback-fix-1"})," to the ",(0,a.jsx)(n.code,{children:"main"})," branch. Now ",(0,a.jsx)(n.code,{children:"main"})," looks like:",(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.code,{children:"MAIN: feature (commit1)"})," \u2192 ",(0,a.jsx)(n.code,{children:"fix (commit2)"})," \u2192 ",(0,a.jsx)(n.code,{children:"feature (commit3)"})," \u2192\n",(0,a.jsx)(n.code,{children:"feedback-fix-1 (commit4)"})]}),"\n",(0,a.jsxs)(n.li,{children:["Then, cherry-pick ",(0,a.jsx)(n.code,{children:"fix (commit2)"})," and ",(0,a.jsx)(n.code,{children:"feedback-fix-1 (commit4)"})," into the\nrelease branch. The release branch becomes:",(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.code,{children:"RELEASE: feature (commit1)"})," \u2192 ",(0,a.jsx)(n.code,{children:"fix (commit2)"})," \u2192 ",(0,a.jsx)(n.code,{children:"feedback-fix-1 (commit4)"})]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.li,{children:'If the fix for release isn\u2019t compatible with the main branch, it\u2019s acceptable\nto apply the fix directly to the release branch and please mark at the commit\nmessage like: "Fix specific to release-1.x; not applicable to main due to\narchitectural differences."'}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>l});var t=s(6540);const a={},r=t.createContext(a);function i(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);