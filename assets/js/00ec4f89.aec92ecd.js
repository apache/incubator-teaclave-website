"use strict";(self.webpackChunkapache_teaclave_incubating=self.webpackChunkapache_teaclave_incubating||[]).push([[1856],{1044:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>d,frontMatter:()=>c,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"teaclave-faas-legacy/examples/README","title":"Examples","description":"In this directory, we implement some examples to illustrate how to register","source":"@site/docs/teaclave-faas-legacy/examples/README.md","sourceDirName":"teaclave-faas-legacy/examples","slug":"/docs/codebase/examples","permalink":"/docs/codebase/examples","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"permalink":"/docs/codebase/examples","slug":"/docs/codebase/examples"},"sidebar":"teaclave-faas-legacy_sidebar","previous":{"title":"Dockerfile and Compose File","permalink":"/docs/codebase/docker"},"next":{"title":"Executor Runtime","permalink":"/docs/codebase/runtime"}}');var o=s(4848),a=s(8453);const c={permalink:"/docs/codebase/examples",slug:"/docs/codebase/examples"},r="Examples",i={},l=[{value:"Configuring URLs of Input/Output Files",id:"configuring-urls-of-inputoutput-files",level:2}];function p(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"examples",children:"Examples"})}),"\n",(0,o.jsx)(t.p,{children:"In this directory, we implement some examples to illustrate how to register\ninput/output data for a function, create and invoke a task and get execution\nresults with the Teclave's client SDK in both single and multi-party setups."}),"\n",(0,o.jsxs)(t.p,{children:["Before trying these examples, please make sure all services in the Teaclave\nplatform has been properly launched. Also, for examples implemented in Python,\ndon't forget to generate protocol stub files and set the ",(0,o.jsx)(t.code,{children:"PYTHONPATH"})," to the\n",(0,o.jsx)(t.code,{children:"sdk"})," path so that the scripts can successfully import the ",(0,o.jsx)(t.code,{children:"teaclave"})," module."]}),"\n",(0,o.jsx)(t.p,{children:"Generate stub files by grpcio-tools and grpclib."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"python3 -m grpc_tools.protoc --proto_path=../../services/proto/src/proto --python_out=. --grpclib_python_out=. ../../services/proto/src/proto/{teaclave_authentication_service.proto,teaclave_frontend_service.proto,teaclave_common.proto}\n"})}),"\n",(0,o.jsx)(t.p,{children:"For instance, use the following command to invoke an echo function in Teaclave:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"$ PYTHONPATH=../../sdk/python python3 builtin_echo.py 'Hello, Teaclave!'\n"})}),"\n",(0,o.jsx)(t.p,{children:"Please checkout the sources of these examples to learn more about the process of\ninvoking a function in Teaclave."}),"\n",(0,o.jsx)(t.h2,{id:"configuring-urls-of-inputoutput-files",children:"Configuring URLs of Input/Output Files"}),"\n",(0,o.jsxs)(t.p,{children:["In some of the examples, you will see URLs of input and output files pointing to\nthe ",(0,o.jsx)(t.code,{children:"localhost"})," addresses. In real world, these URLs are addresses from file\nsystem service providers (i.e., AWS S3). If you are using the Docker compose\nfile to start Teaclave services, a simple file system service are also included.\nTo use it, just change the URLs in the examples to\n",(0,o.jsx)(t.code,{children:"http://teaclave-file-service:6789/path/to/the/file"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:["Normally, the domain name is ",(0,o.jsx)(t.code,{children:"teaclave-file-service"}),", and it can be found via\nthe ",(0,o.jsx)(t.code,{children:"docker ps"}),' command under the "NAMES" column:']}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'CONTAINER ID || IMAGE    ||   COMMAND               || CREATED     || STATUS    || NAMES\nXXXXXXXX     || python:3 || "./scripts/simple_ht\u2026"  || 1 days ago  || Up 1 days || teaclave-file-service\n'})}),"\n",(0,o.jsx)(t.p,{children:"Note that in a real-world case, URLs of input and output files should be\nprovided by the end-user. In the examples, we just embed these files for\ndemonstration and testing."})]})}function d(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>c,x:()=>r});var n=s(6540);const o={},a=n.createContext(o);function c(e){const t=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);