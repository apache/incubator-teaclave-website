<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-teaclave-sgx-sdk/documents/environment-setup" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Recommended OS to start with | Apache Teaclave (incubating)</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://teaclave.apache.org/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://teaclave.apache.org/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://teaclave.apache.org/sgx-sdk-docs/environment-setup"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Recommended OS to start with | Apache Teaclave (incubating)"><meta data-rh="true" name="description" content="We recommend Ubuntu 16.04/18.04. Desktop or server is the same. It could be your host OS or guest OS (inside docker). Technically, a full compatible list could be found at Intel&#x27;s download page. As of 04-01-2019 (v 2.4.0), the list contains:"><meta data-rh="true" property="og:description" content="We recommend Ubuntu 16.04/18.04. Desktop or server is the same. It could be your host OS or guest OS (inside docker). Technically, a full compatible list could be found at Intel&#x27;s download page. As of 04-01-2019 (v 2.4.0), the list contains:"><link data-rh="true" rel="canonical" href="https://teaclave.apache.org/sgx-sdk-docs/environment-setup"><link data-rh="true" rel="alternate" href="https://teaclave.apache.org/sgx-sdk-docs/environment-setup" hreflang="en"><link data-rh="true" rel="alternate" href="https://teaclave.apache.org/sgx-sdk-docs/environment-setup" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Setting up your Development Environment","item":"https://teaclave.apache.org/sgx-sdk-docs/environment-setup"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Teaclave (incubating) RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Teaclave (incubating) Atom Feed"><link rel="stylesheet" href="/assets/css/styles.c864e24f.css">
<script src="/assets/js/runtime~main.af65d8d3.js" defer="defer"></script>
<script src="/assets/js/main.fd7e90dd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_G6ar" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Apache Teaclave" class="themedComponent_DHUr themedComponent--light_DIHH" style="height:5.6rem;padding-left:1.6rem;position:relative;top:-1.8rem"><img src="/img/logo.svg" alt="Apache Teaclave" class="themedComponent_DHUr themedComponent--dark_Bv2M" style="height:5.6rem;padding-left:1.6rem;position:relative;top:-1.8rem"></div></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/powered-by">Powered By</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/community">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/contributing">Contributing</a></li><li><a class="dropdown__link" href="/contributors">Contributors</a></li></ul></div><a class="navbar__item navbar__link" href="/download">Download</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs">Docs</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/">Teaclave</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/sgx-sdk-docs/">Teaclave SGX SDK</a></li><li><a class="dropdown__link" href="/trustzone-sdk-docs/">Teaclave TrustZone SDK</a></li><li><a href="https://teaclave.apache.org/api-docs/sgx-sdk/" target="_self" rel="" class="dropdown__link">Teaclave SGX SDK<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://teaclave.apache.org/api-docs/trustzone-sdk/optee-teec" target="_self" rel="" class="dropdown__link">Teaclave TrustZone SDK (Host)<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://teaclave.apache.org/api-docs/trustzone-sdk/optee-utee" target="_self" rel="" class="dropdown__link">Teaclave TrustZone SDK (TA)<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Repos</a><ul class="dropdown__menu"><li><a href="https://github.com/apache/incubator-teaclave" target="_blank" rel="noopener noreferrer" class="dropdown__link">Teaclave<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://github.com/apache/incubator-teaclave-sgx-sdk" target="_blank" rel="noopener noreferrer" class="dropdown__link">Teaclave SGX SDK<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://github.com/apache/incubator-teaclave-trustzone-sdk" target="_blank" rel="noopener noreferrer" class="dropdown__link">Teaclave TrustZone SDK<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://github.com/apache/incubator-teaclave-java-tee-sdk" target="_blank" rel="noopener noreferrer" class="dropdown__link">Teaclave Java TEE SDK<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://github.com/apache/incubator-teaclave-website" target="_blank" rel="noopener noreferrer" class="dropdown__link">Teaclave Website<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">ASF</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">ASF Homepage<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Thanks<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://www.apache.org/events/current-event.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_awgD"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="toggle_OLSw colorModeToggle_Hg9V"><button class="clean-btn toggleButton_wYmb toggleButtonDisabled_vaDU" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_KEbZ lightToggleIcon_Sxwe"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_KEbZ darkToggleIcon_Yem1"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_KEbZ systemToggleIcon_txm5"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_bmvg"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_UyTV"><div class="docsWrapper_XLvK"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_z1FD" type="button"></button><div class="docRoot_HciC"><aside class="theme-doc-sidebar-container docSidebarContainer_e5ai"><div class="sidebarViewport_N8x0"><div class="sidebar_vJCc"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_qiME"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/sgx-sdk-docs/environment-setup">Development</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/sgx-sdk-docs/environment-setup">Setting up your Development Environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sgx-sdk-docs/sgx_in_mesalock_linux">Rust SGX Applications in Mesalock Linux</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sgx-sdk-docs/is_x86_feature_detected-in-sgx-sdk">`is_x86_feature_detected` in Teaclave SGX SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sgx-sdk-docs/developing-with-vscode">Developing with Visual Studio Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sgx-sdk-docs/debugging-a-local-rust-sgx-enclave">Debugging a Local Enclave in Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sgx-sdk-docs/public-cloud-for-rust-sgx-dev">Public Cloud Rust SGX Development</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sgx-sdk-docs/the-world-of-forked-crates">The World of Forked Crates</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/sgx-sdk-docs/sgxtime">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/sgx-sdk-docs/everything-about-cve-2020-5499">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://www.ieee-security.org/TC/SP2019/posters/hotcrp_sp19posters-final11.pdf" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">Applications</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_namt"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_YAwJ"><div class="docItemContainer_Rv5Z"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_zCmv" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_JFrk"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Development</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Setting up your Development Environment</span></li></ul></nav><div class="tocCollapsible_O_Qc theme-doc-toc-mobile tocMobile_tjDr"><button type="button" class="clean-btn tocCollapsibleButton_htYj">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Recommended OS to start with</h1></header>
<p>We recommend Ubuntu 16.04/18.04. Desktop or server is the same. It could be your host OS or guest OS (inside docker). Technically, a full compatible list could be found at Intel&#x27;s download <a href="https://download.01.org/intel-sgx/linux-2.4/" target="_blank" rel="noopener noreferrer">page</a>. As of 04-01-2019 (v 2.4.0), the list contains:</p>
<ul>
<li>CentOS 7.5</li>
<li>Fedora 27 server</li>
<li>RedHat Enterprise Linux 7.4</li>
<li>SUSE 12.3 server</li>
<li>Ubuntu 16.04</li>
<li>Ubuntu 18.04</li>
</ul>
<h1>Hardware setup</h1>
<p>A good reference for hardware compatibility is <a href="https://github.com/ayeks/SGX-hardware" target="_blank" rel="noopener noreferrer">SGX-Hardware</a>. You can use the script <a href="https://github.com/ayeks/SGX-hardware/blob/master/test-sgx.c" target="_blank" rel="noopener noreferrer">test-sgx.c</a> there to check if SGX is/could be enabled.</p>
<p>Followings are FAQs I&#x27;ve been always asked:</p>
<ol>
<li>Macbook Pro? No to all on hardware support! Docker-based simulation is OK.</li>
<li>Rack Server? Here are my listings:</li>
</ol>
<ul>
<li>SuperServer <a href="https://www.supermicro.com/products/system/1U/5019/SYS-5019S-MR.cfm" target="_blank" rel="noopener noreferrer">5019S-MR</a></li>
<li>Lenovo <a href="https://www.lenovo.com/us/en/data-center/servers/racks/ThinkSystem-SR250/p/77XX7SRSR25" target="_blank" rel="noopener noreferrer">SR250</a></li>
<li>SuperMicro Microblade server with <a href="https://www.supermicro.com/products/MicroBlade/module/MBI-6119G-T4.cfm" target="_blank" rel="noopener noreferrer">MBI-6119G-T4</a>.</li>
</ul>
<ol start="3">
<li>Laptops? I don&#x27;t know. If you can find something related to Intel SGX in the BIOS, then Yes.</li>
</ol>
<p>Another solution is Intel&#x27;s <a href="https://www.intel.com/content/dam/support/us/en/documents/server-products/server-accessories/VCA2_HW_User_Guide.pdf" target="_blank" rel="noopener noreferrer">VCA 2</a> card. It should be placed only in 2-socket Xeon E5 systems (or following). Dmitrii of Intel Lab is using it for <a href="https://redislabs.com/rlsessions_post_type/redis-sgx-secure-redis-intel-sgx/" target="_blank" rel="noopener noreferrer">Redis-SGX</a>.</p>
<h1>Software Setup</h1>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="rust-toolchain">Rust toolchain<a href="#rust-toolchain" class="hash-link" aria-label="Direct link to Rust toolchain" title="Direct link to Rust toolchain">​</a></h2>
<p>Please use <a href="https://rustup.rs/" target="_blank" rel="noopener noreferrer">rustup</a> to install and manage Rust toolchains. <strong>DO NOT</strong> use anything like <code>apt</code> or <code>yum</code>.</p>
<p>During the installation you&#x27;ll be asked about &#x27;installation options&#x27; as follows:</p>
<div class="language-text codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-text codeBlock_TAPP thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">Current installation options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   default host triple: x86_64-unknown-linux-gnu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     default toolchain: stable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  modify PATH variable: yes</span><br></span></code></pre></div></div>
<p>The host triple (though quadruple here) is correct. You could just press enter to skip it. When asking about default toolchain, you could enter <code>nightly-2019-01-28</code> or similar version number. And we recommend to answer &#x27;Y&#x27; to the PATH modification.</p>
<p>rustup is always installed in <code>~</code> and does not affect other users.</p>
<p>Then you will have rustup works well. To switch to another toolchain, try</p>
<div class="language-text codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-text codeBlock_TAPP thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">$ rustup toolchain default nightly-2019-03-31</span><br></span></code></pre></div></div>
<p>This would triggers downloading and installation if the desired toolchain is not found on your disk.</p>
<p>To add more rust tools such as <code>rust-src</code> (for xargo), <code>rust-clippy</code> (for lint):</p>
<div class="language-text codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-text codeBlock_TAPP thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">$ rustup component add rust-src</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="intel-sgx-toolchain-setup">Intel SGX toolchain setup<a href="#intel-sgx-toolchain-setup" class="hash-link" aria-label="Direct link to Intel SGX toolchain setup" title="Direct link to Intel SGX toolchain setup">​</a></h2>
<p>The toolchain setup strictly follows the following steps:</p>
<ol start="0">
<li>Driver installation ( sgx_linux_x64_driver_??????.bin ). You&#x27;ll get a misc device &#x27;/dev/isgx&#x27; after this step.</li>
<li>(OPTIONAL, if Intel ME is required) iCls setup (iclsClient-1.45.449.12-1.x86_64.rpm)</li>
<li>(OPTIONAL, if Intel ME is required) jhi setup <a href="https://github.com/01org/dynamic-application-loader-host-interface" target="_blank" rel="noopener noreferrer">https://github.com/01org/dynamic-application-loader-host-interface</a></li>
<li>Platform Software installation (libsgx-enclave-common, libsgx-enclave-common-dev, libsgx-enclave-common-dbgsym)</li>
<li>Intel SGX SDK installation ( sgx_linux_x64_sdk_???????.bin )</li>
</ol>
<p>And don&#x27;t forget to source the <code>environment</code> file for Intel SGX SDK (such as sgx-sign).</p>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="docker-setup">Docker setup<a href="#docker-setup" class="hash-link" aria-label="Direct link to Docker setup" title="Direct link to Docker setup">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_fF9Z" id="use-docker-with-hardware-support-and-run-aesm-inside-docker">Use docker with hardware support, and run aesm inside docker<a href="#use-docker-with-hardware-support-and-run-aesm-inside-docker" class="hash-link" aria-label="Direct link to Use docker with hardware support, and run aesm inside docker" title="Direct link to Use docker with hardware support, and run aesm inside docker">​</a></h3>
<p>Firstly, do step 0 to get <code>/dev/isgx</code> works. Then start a docker container as follows:</p>
<div class="language-text codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-text codeBlock_TAPP thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">$ docker run -ti --rm -v /path/to/sdk:/root/sgx \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             --device /dev/isgx \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             --device /dev/mei0 \  # Optional if you have it and want to use it</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             baiduxlab/sgx-rust</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@913e6a00c8d8:~#</span><br></span></code></pre></div></div>
<p>(Optional) Install iCls and jhi daemon. Steps are <a href="https://github.com/apache/incubator-teaclave-sgx-sdk/blob/master/dockerfile/Dockerfile.1604.nightly#L50" target="_blank" rel="noopener noreferrer">here</a></p>
<p>(Optional) Start jhi daemon: <code>jhid -d</code></p>
<p>Start aesm daemon</p>
<div class="language-text codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-text codeBlock_TAPP thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">root@913e6a00c8d8:~# aesm_service[18]: The server sock is 0x5636e90be960</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aesm_service[18]: [ADMIN]White List update requested</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aesm_service[18]: [ADMIN]Platform Services initializing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aesm_service[18]: [ADMIN]Platform Services initialization failed due to DAL error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aesm_service[18]: [ADMIN]White list update request successful for Version: 49</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@913e6a00c8d8:~#</span><br></span></code></pre></div></div>
<p>And then change directory to <code>/root/sgx/samplecode/hello-rust</code> and <code>make</code>. Then cd to <code>bin</code> and <code>./app</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="use-docker-without-hardware-support-only-with-simulation-windowsmacbook-compatible">Use docker without hardware support, only with simulation. Windows/Macbook compatible.<a href="#use-docker-without-hardware-support-only-with-simulation-windowsmacbook-compatible" class="hash-link" aria-label="Direct link to Use docker without hardware support, only with simulation. Windows/Macbook compatible." title="Direct link to Use docker without hardware support, only with simulation. Windows/Macbook compatible.">​</a></h2>
<p>Make sure you have docker installed and working.</p>
<p>Start docker as:</p>
<div class="language-text codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-text codeBlock_TAPP thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">$ docker run -ti --rm -v /path/to/sdk:/root/sgx baiduxlab/sgx-rust</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@913e6a00c8d8:~#</span><br></span></code></pre></div></div>
<p>And then build in simulation mode</p>
<div class="language-text codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-text codeBlock_TAPP thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">$ cd /root/sgx/samplecode/hello-rust</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ SGX_MODE=SW make</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cd bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ./app</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_fF9Z" id="use-docker-with-hardware-support-and-run-aesm-outside-docker-on-the-host-os">Use docker with hardware support, and run aesm outside docker (on the host OS)<a href="#use-docker-with-hardware-support-and-run-aesm-outside-docker-on-the-host-os" class="hash-link" aria-label="Direct link to Use docker with hardware support, and run aesm outside docker (on the host OS)" title="Direct link to Use docker with hardware support, and run aesm outside docker (on the host OS)">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://github.com/apache/incubator-teaclave-sgx-sdk/raw/master/documents/mesa.png" alt="overview" class="img__Ss2"></p>
<p>Just add another device mapping to the command to have <code>aesm.socket</code> works in SGX. This requires step 3 finished on the host OS and <code>/var/run/aesmd/aesm.socket</code> exists on the host OS.</p>
<div class="language-text codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_kX1v"><pre tabindex="0" class="prism-code language-text codeBlock_TAPP thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">$ docker run --rm -ti \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             --device /dev/isgx \                               # forward isgx device</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             -v /path/to/rust-sgx-sdk:/root/sgx \               # add SDK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             -v /var/run/aesmd:/var/run/aesmd \                 # forward domain socket</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             baiduxlab/sgx-rust</span><br></span></code></pre></div></div>
<p>Then you can skip launching <code>aesmd</code> in the docker container.</p>
<h1>CI setup</h1>
<p>The only known solution:<a href="http://drone.io" target="_blank" rel="noopener noreferrer">drone.io</a> is provided by @elichai. We&#x27;ve set it up successfully.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--next" href="/sgx-sdk-docs/sgx_in_mesalock_linux"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Rust SGX Applications in Mesalock Linux</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_TN1Q thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#rust-toolchain" class="table-of-contents__link toc-highlight">Rust toolchain</a></li><li><a href="#intel-sgx-toolchain-setup" class="table-of-contents__link toc-highlight">Intel SGX toolchain setup</a></li><li><a href="#docker-setup" class="table-of-contents__link toc-highlight">Docker setup</a><ul><li><a href="#use-docker-with-hardware-support-and-run-aesm-inside-docker" class="table-of-contents__link toc-highlight">Use docker with hardware support, and run aesm inside docker</a></li></ul></li><li><a href="#use-docker-without-hardware-support-only-with-simulation-windowsmacbook-compatible" class="table-of-contents__link toc-highlight">Use docker without hardware support, only with simulation. Windows/Macbook compatible.</a><ul><li><a href="#use-docker-with-hardware-support-and-run-aesm-outside-docker-on-the-host-os" class="table-of-contents__link toc-highlight">Use docker with hardware support, and run aesm outside docker (on the host OS)</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright"><div style="font-size:.7rem; text-align:left;">Apache Teaclave (incubating) is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF. Copyright © 2020 The Apache Software Foundation. Licensed under the Apache License, Version 2.0. Apache Teaclave, Apache, the Apache feather, and the Apache Teaclave project logo are either trademarks or registered trademarks of the Apache Software Foundation.</div></div></div></div></footer></div>
</body>
</html>